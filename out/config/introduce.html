<!DOCTYPE html><html><head><link rel="stylesheet" id="theme-style"/><style id="theme-color"></style><script>
                const theme = localStorage.getItem('theme') || 'light';
                const themeColor = localStorage.getItem('themeColor') || 'volcano';
                const themeUrl = "/static/antd.variable.css";
                const link = document.getElementById('theme-style');
                link.href = themeUrl;
                const style = document.getElementById('theme-color');
                console.log('themeColor: ', themeColor);
                const styles = {"daybreakBlue":"\n  :root {\n    --ant-primary-color: rgb(24, 144, 255);\n    --ant-primary-color-disabled: #bae7ff;\n    --ant-primary-color-hover: #40a9ff;\n    --ant-primary-color-active: #0050b3;\n    --ant-primary-color-outline: rgba(24, 144, 255, 0.2);\n    --ant-primary-color-deprecated-bg: #bae7ff;\n    --ant-primary-color-deprecated-border: #69c0ff;\n    --ant-primary-1: #e6f7ff;\n    --ant-primary-2: #bae7ff;\n    --ant-primary-3: #91d5ff;\n    --ant-primary-4: #69c0ff;\n    --ant-primary-5: #40a9ff;\n    --ant-primary-6: #1890ff;\n    --ant-primary-7: #096dd9;\n    --ant-primary-8: #0050b3;\n    --ant-primary-9: #003a8c;\n    --ant-primary-10: #002766;\n    --ant-primary-color-deprecated-l-35: rgb(202, 230, 255);\n    --ant-primary-color-deprecated-l-20: rgb(126, 193, 255);\n    --ant-primary-color-deprecated-t-20: rgb(70, 166, 255);\n    --ant-primary-color-deprecated-t-50: rgb(140, 200, 255);\n    --ant-primary-color-deprecated-f-12: rgba(24, 144, 255, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(230, 247, 255, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(220, 244, 255);\n  }\n","dustRed":"\n  :root {\n    --ant-primary-color: rgb(245, 34, 45);\n    --ant-primary-color-disabled: #ffccc7;\n    --ant-primary-color-hover: #ff4d4f;\n    --ant-primary-color-active: #a8071a;\n    --ant-primary-color-outline: rgba(245, 34, 45, 0.2);\n    --ant-primary-color-deprecated-bg: #ffccc7;\n    --ant-primary-color-deprecated-border: #ff7875;\n    --ant-primary-1: #fff1f0;\n    --ant-primary-2: #ffccc7;\n    --ant-primary-3: #ffa39e;\n    --ant-primary-4: #ff7875;\n    --ant-primary-5: #ff4d4f;\n    --ant-primary-6: #f5222d;\n    --ant-primary-7: #cf1322;\n    --ant-primary-8: #a8071a;\n    --ant-primary-9: #820014;\n    --ant-primary-10: #5c0011;\n    --ant-primary-color-deprecated-l-35: rgb(253, 205, 207);\n    --ant-primary-color-deprecated-l-20: rgb(249, 132, 138);\n    --ant-primary-color-deprecated-t-20: rgb(247, 78, 87);\n    --ant-primary-color-deprecated-t-50: rgb(250, 145, 150);\n    --ant-primary-color-deprecated-f-12: rgba(245, 34, 45, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(255, 241, 240, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(255, 231, 230);\n  }\n","volcano":"\n  :root {\n    --ant-primary-color: rgb(250, 84, 28);\n    --ant-primary-color-disabled: #ffd8bf;\n    --ant-primary-color-hover: #ff7a45;\n    --ant-primary-color-active: #ad2102;\n    --ant-primary-color-outline: rgba(250, 84, 28, 0.2);\n    --ant-primary-color-deprecated-bg: #ffd8bf;\n    --ant-primary-color-deprecated-border: #ff9c6e;\n    --ant-primary-1: #fff2e8;\n    --ant-primary-2: #ffd8bf;\n    --ant-primary-3: #ffbb96;\n    --ant-primary-4: #ff9c6e;\n    --ant-primary-5: #ff7a45;\n    --ant-primary-6: #fa541c;\n    --ant-primary-7: #d4380d;\n    --ant-primary-8: #ad2102;\n    --ant-primary-9: #871400;\n    --ant-primary-10: #610b00;\n    --ant-primary-color-deprecated-l-35: rgb(254, 216, 203);\n    --ant-primary-color-deprecated-l-20: rgb(252, 159, 128);\n    --ant-primary-color-deprecated-t-20: rgb(251, 118, 73);\n    --ant-primary-color-deprecated-t-50: rgb(253, 170, 142);\n    --ant-primary-color-deprecated-f-12: rgba(250, 84, 28, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(255, 242, 232, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(255, 236, 222);\n  }\n","sunsetOrange":"\n  :root {\n    --ant-primary-color: rgb(250, 173, 20);\n    --ant-primary-color-disabled: #fff1b8;\n    --ant-primary-color-hover: #ffc53d;\n    --ant-primary-color-active: #ad6800;\n    --ant-primary-color-outline: rgba(250, 173, 20, 0.2);\n    --ant-primary-color-deprecated-bg: #fff1b8;\n    --ant-primary-color-deprecated-border: #ffd666;\n    --ant-primary-1: #fffbe6;\n    --ant-primary-2: #fff1b8;\n    --ant-primary-3: #ffe58f;\n    --ant-primary-4: #ffd666;\n    --ant-primary-5: #ffc53d;\n    --ant-primary-6: #faad14;\n    --ant-primary-7: #d48806;\n    --ant-primary-8: #ad6800;\n    --ant-primary-9: #874d00;\n    --ant-primary-10: #613400;\n    --ant-primary-color-deprecated-l-35: rgb(254, 234, 195);\n    --ant-primary-color-deprecated-l-20: rgb(252, 208, 120);\n    --ant-primary-color-deprecated-t-20: rgb(251, 189, 67);\n    --ant-primary-color-deprecated-t-50: rgb(253, 214, 138);\n    --ant-primary-color-deprecated-f-12: rgba(250, 173, 20, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(255, 251, 230, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(255, 249, 220);\n  }\n","cyan":"\n  :root {\n    --ant-primary-color: rgb(19, 194, 194);\n    --ant-primary-color-disabled: #b5f5ec;\n    --ant-primary-color-hover: #36cfc9;\n    --ant-primary-color-active: #006d75;\n    --ant-primary-color-outline: rgba(19, 194, 194, 0.2);\n    --ant-primary-color-deprecated-bg: #b5f5ec;\n    --ant-primary-color-deprecated-border: #5cdbd3;\n    --ant-primary-1: #e6fffb;\n    --ant-primary-2: #b5f5ec;\n    --ant-primary-3: #87e8de;\n    --ant-primary-4: #5cdbd3;\n    --ant-primary-5: #36cfc9;\n    --ant-primary-6: #13c2c2;\n    --ant-primary-7: #08979c;\n    --ant-primary-8: #006d75;\n    --ant-primary-9: #00474f;\n    --ant-primary-10: #002329;\n    --ant-primary-color-deprecated-l-35: rgb(147, 244, 244);\n    --ant-primary-color-deprecated-l-20: rgb(77, 238, 238);\n    --ant-primary-color-deprecated-t-20: rgb(66, 206, 206);\n    --ant-primary-color-deprecated-t-50: rgb(137, 225, 225);\n    --ant-primary-color-deprecated-f-12: rgba(19, 194, 194, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(230, 255, 251, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(220, 255, 249);\n  }\n","polarGreen":"\n  :root {\n    --ant-primary-color: rgb(82, 196, 26);\n    --ant-primary-color-disabled: #d9f7be;\n    --ant-primary-color-hover: #73d13d;\n    --ant-primary-color-active: #237804;\n    --ant-primary-color-outline: rgba(82, 196, 26, 0.2);\n    --ant-primary-color-deprecated-bg: #d9f7be;\n    --ant-primary-color-deprecated-border: #95de64;\n    --ant-primary-1: #f6ffed;\n    --ant-primary-2: #d9f7be;\n    --ant-primary-3: #b7eb8f;\n    --ant-primary-4: #95de64;\n    --ant-primary-5: #73d13d;\n    --ant-primary-6: #52c41a;\n    --ant-primary-7: #389e0d;\n    --ant-primary-8: #237804;\n    --ant-primary-9: #135200;\n    --ant-primary-10: #092b00;\n    --ant-primary-color-deprecated-l-35: rgb(186, 242, 158);\n    --ant-primary-color-deprecated-l-20: rgb(138, 233, 91);\n    --ant-primary-color-deprecated-t-20: rgb(117, 208, 72);\n    --ant-primary-color-deprecated-t-50: rgb(169, 226, 141);\n    --ant-primary-color-deprecated-f-12: rgba(82, 196, 26, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(246, 255, 237, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(241, 255, 227);\n  }\n","geekBlue":"\n  :root {\n    --ant-primary-color: rgb(47, 84, 235);\n    --ant-primary-color-disabled: #d6e4ff;\n    --ant-primary-color-hover: #597ef7;\n    --ant-primary-color-active: #10239e;\n    --ant-primary-color-outline: rgba(47, 84, 235, 0.2);\n    --ant-primary-color-deprecated-bg: #d6e4ff;\n    --ant-primary-color-deprecated-border: #85a5ff;\n    --ant-primary-1: #f0f5ff;\n    --ant-primary-2: #d6e4ff;\n    --ant-primary-3: #adc6ff;\n    --ant-primary-4: #85a5ff;\n    --ant-primary-5: #597ef7;\n    --ant-primary-6: #2f54eb;\n    --ant-primary-7: #1d39c4;\n    --ant-primary-8: #10239e;\n    --ant-primary-9: #061178;\n    --ant-primary-10: #030852;\n    --ant-primary-color-deprecated-l-35: rgb(210, 218, 251);\n    --ant-primary-color-deprecated-l-20: rgb(140, 160, 244);\n    --ant-primary-color-deprecated-t-20: rgb(89, 118, 239);\n    --ant-primary-color-deprecated-t-50: rgb(151, 170, 245);\n    --ant-primary-color-deprecated-f-12: rgba(47, 84, 235, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(240, 245, 255, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(230, 238, 255);\n  }\n","goldenPurple":"\n  :root {\n    --ant-primary-color: rgb(114, 46, 209);\n    --ant-primary-color-disabled: #efdbff;\n    --ant-primary-color-hover: #9254de;\n    --ant-primary-color-active: #391085;\n    --ant-primary-color-outline: rgba(114, 46, 209, 0.2);\n    --ant-primary-color-deprecated-bg: #efdbff;\n    --ant-primary-color-deprecated-border: #b37feb;\n    --ant-primary-1: #f9f0ff;\n    --ant-primary-2: #efdbff;\n    --ant-primary-3: #d3adf7;\n    --ant-primary-4: #b37feb;\n    --ant-primary-5: #9254de;\n    --ant-primary-6: #722ed1;\n    --ant-primary-7: #531dab;\n    --ant-primary-8: #391085;\n    --ant-primary-9: #22075e;\n    --ant-primary-10: #120338;\n    --ant-primary-color-deprecated-l-35: rgb(213, 192, 241);\n    --ant-primary-color-deprecated-l-20: rgb(170, 130, 227);\n    --ant-primary-color-deprecated-t-20: rgb(142, 88, 218);\n    --ant-primary-color-deprecated-t-50: rgb(185, 151, 232);\n    --ant-primary-color-deprecated-f-12: rgba(114, 46, 209, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(249, 240, 255, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(245, 230, 255);\n  }\n"};
                const styleColors = {"daybreakBlue":"rgb(24, 144, 255)","dustRed":"rgb(245, 34, 45)","volcano":"rgb(250, 84, 28)","sunsetOrange":"rgb(250, 173, 20)","cyan":"rgb(19, 194, 194)","polarGreen":"rgb(82, 196, 26)","geekBlue":"rgb(24, 144, 255)","goldenPurple":"rgb(114, 46, 209)"};
                style.innerHTML = styles[themeColor];
                document.documentElement.style.setProperty('--theme-color', styleColors[themeColor]);
              </script><script src="https://cdn.bootcdn.net/ajax/libs/three.js/r122/three.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.birds.min.js"></script><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="joy-head-count" content="2"/><link rel="icon" href="data:image/ico;base64,aWNv"/><link rel="preload" href="/_joy/static/css/4b2285b9bc85319c09ef.css" as="style"/><link rel="stylesheet" href="/_joy/static/css/4b2285b9bc85319c09ef.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_joy/static/chunks/main-5b30e9471c5dcc4a580f.js" as="script"/><link rel="preload" href="/_joy/static/chunks/webpack-373fdeea3ec48be3183e.js" as="script"/><link rel="preload" href="/_joy/static/chunks/framework-089ded57a3f0791a1b9d.js" as="script"/><link rel="preload" href="/_joy/static/chunks/commons-da13bf20ba77a394465a.js" as="script"/><link rel="preload" href="/_joy/static/chunks/pages/_app-90191bb1e1c9998796e2.js" as="script"/></head><body><div id="__joy"><section class="ant-layout"><header class="layout_header__1OM0M"><nav id="nav" class="layout_nav__K3mbB"><div id="nav-inner" class="layout_nav__inner__2uMRU"><a id="logo" class="layout_logo__FKYzP" href="/">Symph Joy</a><button id="collapseBtn" type="button" class="ant-btn ant-btn-text ant-btn-lg layout_menu__collapseBtn__FF_4T"><span role="img" aria-label="menu-unfold" class="anticon anticon-menu-unfold"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu-unfold" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"></path></svg></span></button><ul class="ant-menu-overflow ant-menu ant-menu-root ant-menu-horizontal ant-menu-light layout_menu__2a0TM layout_menu__collapsed__cIvBb" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:0" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><div class="ant-select ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-customize-input ant-select-show-search"><div class="ant-select-selector"><span class="ant-select-selection-search"><span class="ant-input-affix-wrapper ant-select-selection-search-input"><span class="ant-input-prefix"><span role="img" aria-label="search" class="anticon anticon-search"><svg viewBox="64 64 896 896" focusable="false" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></span></span><input type="search" autoComplete="off" placeholder="搜索" class="ant-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span></span><span class="ant-select-selection-placeholder"></span></div></div></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:1" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/joy/start/introduce">Joy</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:2" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/react/start/introduce">React</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:3" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/server/start/introduce">Server</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:4" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/config/start/introduce">配置</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:5" role="menuitem" tabindex="-1"><span class="ant-menu-title-content">指南</span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:6" role="menuitem" tabindex="-1"><span class="ant-menu-title-content">插件</span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:7" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/v1/readme">v1</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:8" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a target="_blank" href="https://github.com/lnlfps/symph-joy">Github</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:9" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a id="change-theme" class="layout_theme__switch__133kS"><span><span role="img" class="anticon"><svg viewBox="0 0 1024 1024" fill="currentColor" width="1em" height="1em"><path d="M512 832a64 64 0 0 1 64 64v64a64 64 0 1 1-128 0v-64a64 64 0 0 1 64-64z m0-640a64 64 0 0 1-64-64V64a64 64 0 1 1 128 0v64a64 64 0 0 1-64 64z m448 256a64 64 0 1 1 0 128h-64a64 64 0 1 1 0-128h64zM192 512a64 64 0 0 1-64 64H64a64 64 0 1 1 0-128h64a64 64 0 0 1 64 64z m636.768 226.272l45.248 45.248a64 64 0 1 1-90.496 90.496l-45.248-45.248a64 64 0 1 1 90.496-90.496zM195.232 285.728L149.984 240.48a64 64 0 1 1 90.496-90.496l45.248 45.248a64 64 0 1 1-90.496 90.496z m633.536 0a64 64 0 1 1-90.496-90.496l45.248-45.248a64 64 0 1 1 90.496 90.496l-45.248 45.248zM195.232 738.272a64 64 0 1 1 90.496 90.496l-45.248 45.248a64 64 0 1 1-90.496-90.496l45.248-45.248zM512 256a256 256 0 1 0 0 512 256 256 0 0 0 0-512z m0 416a160 160 0 1 1 0.032-320.032A160 160 0 0 1 512 672z" p-id="2605"></path></svg></span><span role="img" class="anticon"><svg viewBox="0 0 1024 1024" fill="currentColor" width="1em" height="1em"><path d="M514.56 938.666667h-40.106667a426.666667 426.666667 0 0 1 0-853.333334 42.666667 42.666667 0 0 1 42.666667 21.76A42.666667 42.666667 0 0 1 512 153.173333a256 256 0 0 0 358.4 358.4 42.666667 42.666667 0 0 1 46.08-2.986666 42.666667 42.666667 0 0 1 21.76 42.666666A426.666667 426.666667 0 0 1 514.56 938.666667zM397.226667 189.44a341.333333 341.333333 0 1 0 437.333333 437.333333A341.333333 341.333333 0 0 1 381.013333 356.266667a341.333333 341.333333 0 0 1 16.213334-166.826667z" p-id="3227"></path></svg></span></span></a></span></li><li class="ant-menu-overflow-item ant-menu-overflow-item-rest ant-menu-submenu ant-menu-submenu-horizontal" style="opacity:0;height:0;overflow-y:hidden;order:9007199254740991;pointer-events:none;position:absolute" aria-hidden="true" role="none"><div role="menuitem" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="false" aria-haspopup="true"><span role="img" aria-label="ellipsis" class="anticon anticon-ellipsis"><svg viewBox="64 64 896 896" focusable="false" data-icon="ellipsis" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"></path></svg></span><i class="ant-menu-submenu-arrow"></i></div></li></ul><div style="display:none" aria-hidden="true"></div></div></nav></header><main class="ant-layout-content"><div class="docs_layoutContent__1N8MU"><div><div class=""><ul class="ant-menu ant-menu-root ant-menu-inline ant-menu-light docs_docMenus__2pe7u" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:24px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content">配置</span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:24px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content">@symph/config</span></li></ul><div style="display:none" aria-hidden="true"></div></div></div><div class="docs_menuIcon__3YKAQ"><span role="img" aria-label="menu-unfold" class="anticon anticon-menu-unfold"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu-unfold" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"></path></svg></span></div><div class="docs_right__1ZHMG"><div class="docs_center__23l0Z"><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div>404<!-- -->:<!-- -->文档不存在。</div></div></div></div><div class="docs_titleTree__2wlEA"><div><div class=""><div class="ant-anchor-wrapper" style="max-height:100vh"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div></div></div></div></div></div></div></div></main></section></div><script id="__JOY_DATA__" type="application/json">{"initState":[{"pathname":"INIT@/config/introduce","ssgData":[{"type":"__INIT_MODEL","state":{"noop":{},"reactAppInitManager":{},"layoutModel":{"collapsed":true,"isMobile":false},"docsModel":{"loadingCurrentDoc":false,"docMenus":[],"titleTrees":[],"result":[],"openKeys":[],"snippets":{},"defaultOpenKeys":[]}}}]},{"pathname":"/","ssgData":[{"type":"reactAppInitManager/__SET_STATE","state":{"/":{"pathname":"/","index":false,"initStatic":2}}}]},{"pathname":"/config","ssgData":[{"type":"docsModel/__SET_STATE","state":{"docMenus":[{"title":"配置","path":"/config/config-manager","file":"docs/config/config-manager.md","hasMenu":false,"mdContent":"# 配置\n\nJoy 遵循约定大于配置原则，参考最佳实践约定默认配置，0 配置也可启动应用，即新应用无需配置文件也可立即运行和发布。\n\n## 配置文件\n\nJoy 在`joy.config.ts`或者`config/config.ts`中配置项目，支持 ts、js、json、es6 文件格式。例如：\n\n```typescript\n// joy.config.ts\n\nexport default {\n  basePath: \"\",\n  apiPrefix: \"/api\",\n  ssr: true,\n};\n```\n\n如果项目的配置不复杂，推荐在 `joy.config.ts` 中写配置; 如果项目的配置比较复杂，可以将配置写在 config/config.ts 中，并把配置的一部分拆分出去，加载配置时会自动合并到主配置中，例如路由配置可以拆分成单独的 routes.ts：\n\n```typescript\n// config/routes.ts\n\nexport default [{ exact: true, path: \"/\", component: \"index\" }];\n```\n\n等同于：\n\n```typescript\n// joy.config.ts\n{\n  apiPrefix: \"/api\";\n  routes: [{ exact: true, path: \"/\", component: \"index\" }];\n}\n```\n\n## 多环境配置\n\n可以通过环境变量`NODE_ENV`或者`JOY_ENV`来区分不同环境配置，`JOY_ENV`的优先级更高。各环境配置文件，统一放在`/config`目录中，例如：`/config/config.beta.ts`、`/config/config.production.ts`。\n\n各配置的加载顺序：`.env` ➡ `joy.config.ts` ➡ `config/config.ts` ➡ `config/config.production.ts` ， 后加载的配置会覆盖之前的配置。\n\n## 本地临时配置\n\n可以新建 `config/config.local.ts`文件，例如该配置文件存在，则加载顺序为：\n`.env` ➡ `joy.config.ts` ➡ `config/config.ts` ➡ `config/config.development.ts` ➡ `config/config.local.ts` 。\n\n**注意：**\n\n- 该配置优先级最高，在最后加载该配置文件，且会覆盖之前读取的配置。\n- `config.local.ts` 是本地开发调试的临时配置，请将其添加到 `.gitignore`，**务必不要提交到 git 仓库中**\n\n## 环境变量配置\n\n### 执行命令时添加环境变量\n\n例如：\n\n```bash\n# OS X、 Linux\n$ port=3000 joy dev\n\n# Windows\n$ set port=3000\u0026\u0026joy dev\n```\n\n如果要同时考虑 OS X 和 Windows，可借助三方工具 cross-env。\n\n```bash\n$ yarn add cross-env --dev\n$ cross-env port=3000 umi dev\n```\n\n### .env 配置文件\n\nJoy 约定根目录下的`.env`为环境变量配置文件，该配置文件将在初始化配置时加载，其配置的值于 [执行命令时添加环境变量](#执行命令时添加环境变量)\n\n```typescript\n// .env\n\nport = 3000;\nhostname = \"localhost\";\n```\n\n## 应用内获取配置\n\n### 通过 ConfigService 服务获取\n\n`@symph/config`提供 `ConfigService`服务类，Joy 已内置该服务，通过其提供的`get\u003cT = any\u003e(configPath?:string, defaultValue?: T): T | undefined`方法获取配置值，方法参数：\n\n- configPath: 配置键值，支持 object path，获取配置值对象的内部值。\n- defaultValue: 默认值，如果配置不存在，则返回默认值。\n\n例如有以下配置内容：\n\n```typescript\n// joy.config.ts\nexport default {\n  database: {\n    type: \"mysql\",\n    host: \"localhost\",\n    port: 3306,\n  },\n};\n```\n\n在服务类中获取以上配置值：\n\n```typescript\nimport { ConfigService } from \"@symph/config\";\n\nimport { Component } from \"@symph/core\";\nimport { Value } from \"@symph/config\";\n\n@Component()\nexport class HelloService {\n  constructor(private configService: ConfigService) {\n    // 通过 configKey 获取 配置\n    const database = configService.get(\"database\");\n\n    // 如果配置值是一个对象，可以通过object path，获取获取对象内部属性的值\n    const host = configService.get\u003cstring\u003e(\"database.host\", \"localhost\");\n  }\n}\n```\n\n### @Value 装饰器方式获取\n\n在组件的属性上，通过`@Value(options)`装饰器申明需要自动注入配置，注入的属性键值默认为组件的属性名称，例如：\n\n```typescript\nimport { Component } from \"@symph/core\";\nimport { Value } from \"@symph/config\";\n\n@Component()\nexport class HelloService {\n  // 读取joy.config.ts中配置的msg的值。\n  @Value()\n  public msg: string;\n}\n```\n\n`@Value(options)` 定制参数列表：\n\n- **configKey** 类型`string`，默认等于被装饰的属性名称，指定注入是取的配置文件中的键值，由此属性名称和配置文件中的键值可以不相等。\n- **schema** 类型`json-schema`，自定义 [json-schema](https://json-schema.org/learn/getting-started-step-by-step) 定义属性规则，不推荐直接使用该属性，大部分情况下可使用`@tsed/schema`库提供的装饰器来申明校验规则，例如`@Max(3)`申明该配置的值不能大于 4，否则运行是抛出异常。\n\n[//]: # \"- **onChange** 类型`string`, 默认值`undefined`，设置当该值发生变化后，系统需如何处理，目前仅支持`reload`重新启动应用，或者为空不做任何操作。\"\n\n- **transform** 类型`(configValue: any) =\u003e any`, 注入值时被调用，入参为配置文件中的值，返回值为转换后的值，然后将转化后的值设置到属性上。\n\n\u003e `@Value()`声明的属性，也等于声明了一个配置项及其类型和验证规则，需要避免在不同地方声明相同的配置但又不兼容的类型，这种情况下，我们可以将声明移动到一个独立的配置类中，其它地方如果需要使用该配置，应该依赖和使用该类。\n\n#### 校验配置值\n\n使用`@tsed/schema`库提供的装饰器来申明校验规则。\n\n```typescript\nimport { Component } from \"@symph/core\";\nimport { Max, MaxLength, Required } from \"@tsed/schema\";\nimport { Value } from \"@symph/config\";\n\n@Component()\nexport class BasicConfig {\n  // 配置类型为number，且不能大于4，否则运行时抛出异常。\n  // 如果未配置，默认为 2\n  @Value({ default: 2 })\n  @Max(4)\n  public workers: number;\n\n  // 必须配置，且长度不能大于64.\n  @Value()\n  @MaxLength(64)\n  @Required()\n  public msg: string;\n\n  // 配置是一个负责对象数组，类型和验证规则声明在对象的类上。\n  @Value()\n  public routes: ReactRoute[];\n}\n\nclass ReactRoute {\n  @Required()\n  public path: string;\n\n  public extract: boolean;\n}\n```\n","htmlContent":"\n                \u003ch1 id=\"%E9%85%8D%E7%BD%AE\"\u003e\n                  配置\n                \u003c/h1\u003e\u003cp\u003eJoy 遵循约定大于配置原则，参考最佳实践约定默认配置，0 配置也可启动应用，即新应用无需配置文件也可立即运行和发布。\u003c/p\u003e\n\n                \u003ch2 id=\"%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"\u003e\n                  配置文件\n                \u003c/h2\u003e\u003cp\u003eJoy 在\u003ccode\u003ejoy.config.ts\u003c/code\u003e或者\u003ccode\u003econfig/config.ts\u003c/code\u003e中配置项目，支持 ts、js、json、es6 文件格式。例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// joy.config.ts\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003ebasePath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eapiPrefix\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/api\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003essr\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e如果项目的配置不复杂，推荐在 \u003ccode\u003ejoy.config.ts\u003c/code\u003e 中写配置; 如果项目的配置比较复杂，可以将配置写在 config/config.ts 中，并把配置的一部分拆分出去，加载配置时会自动合并到主配置中，例如路由配置可以拆分成单独的 routes.ts：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// config/routes.ts\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e [{ \u003cspan class=\"hljs-attr\"\u003eexact\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ecomponent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;index\u0026quot;\u003c/span\u003e }];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e等同于：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// joy.config.ts\u003c/span\u003e\n{\n  \u003cspan class=\"hljs-attr\"\u003eapiPrefix\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/api\u0026quot;\u003c/span\u003e;\n  \u003cspan class=\"hljs-attr\"\u003eroutes\u003c/span\u003e: [{ \u003cspan class=\"hljs-attr\"\u003eexact\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ecomponent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;index\u0026quot;\u003c/span\u003e }];\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\"\u003e\n                  多环境配置\n                \u003c/h2\u003e\u003cp\u003e可以通过环境变量\u003ccode\u003eNODE_ENV\u003c/code\u003e或者\u003ccode\u003eJOY_ENV\u003c/code\u003e来区分不同环境配置，\u003ccode\u003eJOY_ENV\u003c/code\u003e的优先级更高。各环境配置文件，统一放在\u003ccode\u003e/config\u003c/code\u003e目录中，例如：\u003ccode\u003e/config/config.beta.ts\u003c/code\u003e、\u003ccode\u003e/config/config.production.ts\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e各配置的加载顺序：\u003ccode\u003e.env\u003c/code\u003e ➡ \u003ccode\u003ejoy.config.ts\u003c/code\u003e ➡ \u003ccode\u003econfig/config.ts\u003c/code\u003e ➡ \u003ccode\u003econfig/config.production.ts\u003c/code\u003e ， 后加载的配置会覆盖之前的配置。\u003c/p\u003e\n\n                \u003ch2 id=\"%E6%9C%AC%E5%9C%B0%E4%B8%B4%E6%97%B6%E9%85%8D%E7%BD%AE\"\u003e\n                  本地临时配置\n                \u003c/h2\u003e\u003cp\u003e可以新建 \u003ccode\u003econfig/config.local.ts\u003c/code\u003e文件，例如该配置文件存在，则加载顺序为：\n\u003ccode\u003e.env\u003c/code\u003e ➡ \u003ccode\u003ejoy.config.ts\u003c/code\u003e ➡ \u003ccode\u003econfig/config.ts\u003c/code\u003e ➡ \u003ccode\u003econfig/config.development.ts\u003c/code\u003e ➡ \u003ccode\u003econfig/config.local.ts\u003c/code\u003e 。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e注意：\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e该配置优先级最高，在最后加载该配置文件，且会覆盖之前读取的配置。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003econfig.local.ts\u003c/code\u003e 是本地开发调试的临时配置，请将其添加到 \u003ccode\u003e.gitignore\u003c/code\u003e，\u003cstrong\u003e务必不要提交到 git 仓库中\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch2 id=\"%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE\"\u003e\n                  环境变量配置\n                \u003c/h2\u003e\n                \u003ch3 id=\"%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"\u003e\n                  执行命令时添加环境变量\n                \u003c/h3\u003e\u003cp\u003e例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-comment\"\u003e# OS X、 Linux\u003c/span\u003e\n$ port=3000 joy dev\n\n\u003cspan class=\"hljs-comment\"\u003e# Windows\u003c/span\u003e\n$ \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e port=3000\u0026amp;\u0026amp;joy dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e如果要同时考虑 OS X 和 Windows，可借助三方工具 cross-env。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ yarn add cross-env --dev\n$ cross-env port=3000 umi dev\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"env-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"\u003e\n                  .env 配置文件\n                \u003c/h3\u003e\u003cp\u003eJoy 约定根目录下的\u003ccode\u003e.env\u003c/code\u003e为环境变量配置文件，该配置文件将在初始化配置时加载，其配置的值于 \u003ca href=\"#%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"\u003e执行命令时添加环境变量\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// .env\u003c/span\u003e\n\nport = \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e;\nhostname = \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E5%BA%94%E7%94%A8%E5%86%85%E8%8E%B7%E5%8F%96%E9%85%8D%E7%BD%AE\"\u003e\n                  应用内获取配置\n                \u003c/h2\u003e\n                \u003ch3 id=\"%E9%80%9A%E8%BF%87-configservice-%E6%9C%8D%E5%8A%A1%E8%8E%B7%E5%8F%96\"\u003e\n                  通过 ConfigService 服务获取\n                \u003c/h3\u003e\u003cp\u003e\u003ccode\u003e@symph/config\u003c/code\u003e提供 \u003ccode\u003eConfigService\u003c/code\u003e服务类，Joy 已内置该服务，通过其提供的\u003ccode\u003eget\u0026lt;T = any\u0026gt;(configPath?:string, defaultValue?: T): T | undefined\u003c/code\u003e方法获取配置值，方法参数：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003econfigPath: 配置键值，支持 object path，获取配置值对象的内部值。\u003c/li\u003e\n\u003cli\u003edefaultValue: 默认值，如果配置不存在，则返回默认值。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e例如有以下配置内容：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// joy.config.ts\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003edatabase\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;mysql\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ehost\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eport\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e,\n  },\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在服务类中获取以上配置值：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eConfigService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/config\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/core\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eValue\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/config\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Component\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHelloService\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e configService: ConfigService\u003c/span\u003e) {\n    \u003cspan class=\"hljs-comment\"\u003e// 通过 configKey 获取 配置\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e database = configService.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database\u0026quot;\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// 如果配置值是一个对象，可以通过object path，获取获取对象内部属性的值\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e host = configService.\u003cspan class=\"hljs-property\"\u003eget\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e\u0026gt;(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database.host\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"value-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%96%B9%E5%BC%8F%E8%8E%B7%E5%8F%96\"\u003e\n                  @Value 装饰器方式获取\n                \u003c/h3\u003e\u003cp\u003e在组件的属性上，通过\u003ccode\u003e@Value(options)\u003c/code\u003e装饰器申明需要自动注入配置，注入的属性键值默认为组件的属性名称，例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/core\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eValue\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/config\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Component\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHelloService\u003c/span\u003e {\n  \u003cspan class=\"hljs-comment\"\u003e// 读取joy.config.ts中配置的msg的值。\u003c/span\u003e\n  \u003cspan class=\"hljs-meta\"\u003e@Value\u003c/span\u003e()\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003emsg\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e@Value(options)\u003c/code\u003e 定制参数列表：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003econfigKey\u003c/strong\u003e 类型\u003ccode\u003estring\u003c/code\u003e，默认等于被装饰的属性名称，指定注入是取的配置文件中的键值，由此属性名称和配置文件中的键值可以不相等。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eschema\u003c/strong\u003e 类型\u003ccode\u003ejson-schema\u003c/code\u003e，自定义 \u003ca href=\"https://json-schema.org/learn/getting-started-step-by-step\"\u003ejson-schema\u003c/a\u003e 定义属性规则，不推荐直接使用该属性，大部分情况下可使用\u003ccode\u003e@tsed/schema\u003c/code\u003e库提供的装饰器来申明校验规则，例如\u003ccode\u003e@Max(3)\u003c/code\u003e申明该配置的值不能大于 4，否则运行是抛出异常。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003etransform\u003c/strong\u003e 类型\u003ccode\u003e(configValue: any) =\u0026gt; any\u003c/code\u003e, 注入值时被调用，入参为配置文件中的值，返回值为转换后的值，然后将转化后的值设置到属性上。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003e@Value()\u003c/code\u003e声明的属性，也等于声明了一个配置项及其类型和验证规则，需要避免在不同地方声明相同的配置但又不兼容的类型，这种情况下，我们可以将声明移动到一个独立的配置类中，其它地方如果需要使用该配置，应该依赖和使用该类。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n                \u003ch4 id=\"%E6%A0%A1%E9%AA%8C%E9%85%8D%E7%BD%AE%E5%80%BC\"\u003e\n                  校验配置值\n                \u003c/h4\u003e\u003cp\u003e使用\u003ccode\u003e@tsed/schema\u003c/code\u003e库提供的装饰器来申明校验规则。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/core\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eMax\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMaxLength\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eRequired\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@tsed/schema\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eValue\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/config\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Component\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBasicConfig\u003c/span\u003e {\n  \u003cspan class=\"hljs-comment\"\u003e// 配置类型为number，且不能大于4，否则运行时抛出异常。\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e// 如果未配置，默认为 2\u003c/span\u003e\n  \u003cspan class=\"hljs-meta\"\u003e@Value\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003edefault\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e })\n  \u003cspan class=\"hljs-meta\"\u003e@Max\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eworkers\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e// 必须配置，且长度不能大于64.\u003c/span\u003e\n  \u003cspan class=\"hljs-meta\"\u003e@Value\u003c/span\u003e()\n  \u003cspan class=\"hljs-meta\"\u003e@MaxLength\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e64\u003c/span\u003e)\n  \u003cspan class=\"hljs-meta\"\u003e@Required\u003c/span\u003e()\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003emsg\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e// 配置是一个负责对象数组，类型和验证规则声明在对象的类上。\u003c/span\u003e\n  \u003cspan class=\"hljs-meta\"\u003e@Value\u003c/span\u003e()\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eroutes\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReactRoute\u003c/span\u003e[];\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReactRoute\u003c/span\u003e {\n  \u003cspan class=\"hljs-meta\"\u003e@Required\u003c/span\u003e()\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eextract\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eboolean\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n","anchor":[{"type":"heading","raw":"## 配置文件\n\n","depth":2,"text":"配置文件","tokens":[{"type":"text","raw":"配置文件","text":"配置文件"}],"id":"#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"},{"type":"heading","raw":"## 多环境配置\n\n","depth":2,"text":"多环境配置","tokens":[{"type":"text","raw":"多环境配置","text":"多环境配置"}],"id":"#%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"},{"type":"heading","raw":"## 本地临时配置\n\n","depth":2,"text":"本地临时配置","tokens":[{"type":"text","raw":"本地临时配置","text":"本地临时配置"}],"id":"#%E6%9C%AC%E5%9C%B0%E4%B8%B4%E6%97%B6%E9%85%8D%E7%BD%AE"},{"type":"heading","raw":"## 环境变量配置\n\n","depth":2,"text":"环境变量配置","tokens":[{"type":"text","raw":"环境变量配置","text":"环境变量配置"}],"id":"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE","children":[{"type":"heading","raw":"### 执行命令时添加环境变量\n\n","depth":3,"text":"执行命令时添加环境变量","tokens":[{"type":"text","raw":"执行命令时添加环境变量","text":"执行命令时添加环境变量"}],"id":"#%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"},{"type":"heading","raw":"### .env 配置文件\n\n","depth":3,"text":".env 配置文件","tokens":[{"type":"text","raw":".env 配置文件","text":".env 配置文件"}],"id":"#env-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"}]},{"type":"heading","raw":"## 应用内获取配置\n\n","depth":2,"text":"应用内获取配置","tokens":[{"type":"text","raw":"应用内获取配置","text":"应用内获取配置"}],"id":"#%E5%BA%94%E7%94%A8%E5%86%85%E8%8E%B7%E5%8F%96%E9%85%8D%E7%BD%AE","children":[{"type":"heading","raw":"### 通过 ConfigService 服务获取\n\n","depth":3,"text":"通过 ConfigService 服务获取","tokens":[{"type":"text","raw":"通过 ConfigService 服务获取","text":"通过 ConfigService 服务获取"}],"id":"#%E9%80%9A%E8%BF%87-configservice-%E6%9C%8D%E5%8A%A1%E8%8E%B7%E5%8F%96"},{"type":"heading","raw":"### @Value 装饰器方式获取\n\n","depth":3,"text":"@Value 装饰器方式获取","tokens":[{"type":"text","raw":"@Value 装饰器方式获取","text":"@Value 装饰器方式获取"}],"id":"#value-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%96%B9%E5%BC%8F%E8%8E%B7%E5%8F%96"}]}]},{"title":"@symph/config","path":"/config/introduce","file":"docs/config/introduce.md","hasMenu":false,"mdContent":"# @symph/config\n\n---\n\n配置管理\n","htmlContent":"\n                \u003ch1 id=\"symph%2Fconfig\"\u003e\n                  @symph/config\n                \u003c/h1\u003e\u003chr\u003e\n\u003cp\u003e配置管理\u003c/p\u003e\n","anchor":[]}],"defaultOpenKeys":[]}},{"type":"reactAppInitManager/__SET_STATE","state":{"/config":{"pathname":"/config","index":false,"initStatic":2}}}]},{"pathname":"/config/introduce","ssgData":[{"type":"docsModel/__SET_STATE","state":{"loadingCurrentDoc":true}},{"type":"docsModel/__SET_STATE","state":{"loadingCurrentDoc":true}},{"type":"docsModel/__SET_STATE","state":{"loadCurrentDocErr":{"code":404,"message":"文档不存在。"},"loadingCurrentDoc":false}},{"type":"reactAppInitManager/__SET_STATE","state":{"/config/introduce":{"pathname":"/config/introduce","index":false,"initStatic":2}}}]}],"props":{},"page":"/config/introduce","query":{},"buildId":"s27cSewNswFQ71weNmqBy","joyExport":false,"isFallback":false,"ssr":true,"gip":true}</script><script nomodule="" src="/_joy/static/chunks/polyfills-661efe1e66c152d86266.js"></script><script src="/_joy/static/chunks/main-5b30e9471c5dcc4a580f.js" async=""></script><script src="/_joy/static/chunks/webpack-373fdeea3ec48be3183e.js" async=""></script><script src="/_joy/static/chunks/framework-089ded57a3f0791a1b9d.js" async=""></script><script src="/_joy/static/chunks/commons-da13bf20ba77a394465a.js" async=""></script><script src="/_joy/static/chunks/pages/_app-90191bb1e1c9998796e2.js" async=""></script><script src="/_joy/static/s27cSewNswFQ71weNmqBy/_buildManifest.js" async=""></script><script src="/_joy/static/s27cSewNswFQ71weNmqBy/_ssgManifest.js" async=""></script></body></html>