<!DOCTYPE html><html><head><link rel="stylesheet" id="theme-style"/><style id="theme-color"></style><script>
                const theme = localStorage.getItem('theme') || 'light';
                const themeColor = localStorage.getItem('themeColor') || 'volcano';
                const themeUrl = "/static/antd.variable.css";
                const link = document.getElementById('theme-style');
                link.href = themeUrl;
                const style = document.getElementById('theme-color');
                console.log('themeColor: ', themeColor);
                const styles = {"daybreakBlue":"\n  :root {\n    --ant-primary-color: rgb(24, 144, 255);\n    --ant-primary-color-disabled: #bae7ff;\n    --ant-primary-color-hover: #40a9ff;\n    --ant-primary-color-active: #0050b3;\n    --ant-primary-color-outline: rgba(24, 144, 255, 0.2);\n    --ant-primary-color-deprecated-bg: #bae7ff;\n    --ant-primary-color-deprecated-border: #69c0ff;\n    --ant-primary-1: #e6f7ff;\n    --ant-primary-2: #bae7ff;\n    --ant-primary-3: #91d5ff;\n    --ant-primary-4: #69c0ff;\n    --ant-primary-5: #40a9ff;\n    --ant-primary-6: #1890ff;\n    --ant-primary-7: #096dd9;\n    --ant-primary-8: #0050b3;\n    --ant-primary-9: #003a8c;\n    --ant-primary-10: #002766;\n    --ant-primary-color-deprecated-l-35: rgb(202, 230, 255);\n    --ant-primary-color-deprecated-l-20: rgb(126, 193, 255);\n    --ant-primary-color-deprecated-t-20: rgb(70, 166, 255);\n    --ant-primary-color-deprecated-t-50: rgb(140, 200, 255);\n    --ant-primary-color-deprecated-f-12: rgba(24, 144, 255, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(230, 247, 255, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(220, 244, 255);\n  }\n","dustRed":"\n  :root {\n    --ant-primary-color: rgb(245, 34, 45);\n    --ant-primary-color-disabled: #ffccc7;\n    --ant-primary-color-hover: #ff4d4f;\n    --ant-primary-color-active: #a8071a;\n    --ant-primary-color-outline: rgba(245, 34, 45, 0.2);\n    --ant-primary-color-deprecated-bg: #ffccc7;\n    --ant-primary-color-deprecated-border: #ff7875;\n    --ant-primary-1: #fff1f0;\n    --ant-primary-2: #ffccc7;\n    --ant-primary-3: #ffa39e;\n    --ant-primary-4: #ff7875;\n    --ant-primary-5: #ff4d4f;\n    --ant-primary-6: #f5222d;\n    --ant-primary-7: #cf1322;\n    --ant-primary-8: #a8071a;\n    --ant-primary-9: #820014;\n    --ant-primary-10: #5c0011;\n    --ant-primary-color-deprecated-l-35: rgb(253, 205, 207);\n    --ant-primary-color-deprecated-l-20: rgb(249, 132, 138);\n    --ant-primary-color-deprecated-t-20: rgb(247, 78, 87);\n    --ant-primary-color-deprecated-t-50: rgb(250, 145, 150);\n    --ant-primary-color-deprecated-f-12: rgba(245, 34, 45, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(255, 241, 240, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(255, 231, 230);\n  }\n","volcano":"\n  :root {\n    --ant-primary-color: rgb(250, 84, 28);\n    --ant-primary-color-disabled: #ffd8bf;\n    --ant-primary-color-hover: #ff7a45;\n    --ant-primary-color-active: #ad2102;\n    --ant-primary-color-outline: rgba(250, 84, 28, 0.2);\n    --ant-primary-color-deprecated-bg: #ffd8bf;\n    --ant-primary-color-deprecated-border: #ff9c6e;\n    --ant-primary-1: #fff2e8;\n    --ant-primary-2: #ffd8bf;\n    --ant-primary-3: #ffbb96;\n    --ant-primary-4: #ff9c6e;\n    --ant-primary-5: #ff7a45;\n    --ant-primary-6: #fa541c;\n    --ant-primary-7: #d4380d;\n    --ant-primary-8: #ad2102;\n    --ant-primary-9: #871400;\n    --ant-primary-10: #610b00;\n    --ant-primary-color-deprecated-l-35: rgb(254, 216, 203);\n    --ant-primary-color-deprecated-l-20: rgb(252, 159, 128);\n    --ant-primary-color-deprecated-t-20: rgb(251, 118, 73);\n    --ant-primary-color-deprecated-t-50: rgb(253, 170, 142);\n    --ant-primary-color-deprecated-f-12: rgba(250, 84, 28, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(255, 242, 232, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(255, 236, 222);\n  }\n","sunsetOrange":"\n  :root {\n    --ant-primary-color: rgb(250, 173, 20);\n    --ant-primary-color-disabled: #fff1b8;\n    --ant-primary-color-hover: #ffc53d;\n    --ant-primary-color-active: #ad6800;\n    --ant-primary-color-outline: rgba(250, 173, 20, 0.2);\n    --ant-primary-color-deprecated-bg: #fff1b8;\n    --ant-primary-color-deprecated-border: #ffd666;\n    --ant-primary-1: #fffbe6;\n    --ant-primary-2: #fff1b8;\n    --ant-primary-3: #ffe58f;\n    --ant-primary-4: #ffd666;\n    --ant-primary-5: #ffc53d;\n    --ant-primary-6: #faad14;\n    --ant-primary-7: #d48806;\n    --ant-primary-8: #ad6800;\n    --ant-primary-9: #874d00;\n    --ant-primary-10: #613400;\n    --ant-primary-color-deprecated-l-35: rgb(254, 234, 195);\n    --ant-primary-color-deprecated-l-20: rgb(252, 208, 120);\n    --ant-primary-color-deprecated-t-20: rgb(251, 189, 67);\n    --ant-primary-color-deprecated-t-50: rgb(253, 214, 138);\n    --ant-primary-color-deprecated-f-12: rgba(250, 173, 20, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(255, 251, 230, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(255, 249, 220);\n  }\n","cyan":"\n  :root {\n    --ant-primary-color: rgb(19, 194, 194);\n    --ant-primary-color-disabled: #b5f5ec;\n    --ant-primary-color-hover: #36cfc9;\n    --ant-primary-color-active: #006d75;\n    --ant-primary-color-outline: rgba(19, 194, 194, 0.2);\n    --ant-primary-color-deprecated-bg: #b5f5ec;\n    --ant-primary-color-deprecated-border: #5cdbd3;\n    --ant-primary-1: #e6fffb;\n    --ant-primary-2: #b5f5ec;\n    --ant-primary-3: #87e8de;\n    --ant-primary-4: #5cdbd3;\n    --ant-primary-5: #36cfc9;\n    --ant-primary-6: #13c2c2;\n    --ant-primary-7: #08979c;\n    --ant-primary-8: #006d75;\n    --ant-primary-9: #00474f;\n    --ant-primary-10: #002329;\n    --ant-primary-color-deprecated-l-35: rgb(147, 244, 244);\n    --ant-primary-color-deprecated-l-20: rgb(77, 238, 238);\n    --ant-primary-color-deprecated-t-20: rgb(66, 206, 206);\n    --ant-primary-color-deprecated-t-50: rgb(137, 225, 225);\n    --ant-primary-color-deprecated-f-12: rgba(19, 194, 194, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(230, 255, 251, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(220, 255, 249);\n  }\n","polarGreen":"\n  :root {\n    --ant-primary-color: rgb(82, 196, 26);\n    --ant-primary-color-disabled: #d9f7be;\n    --ant-primary-color-hover: #73d13d;\n    --ant-primary-color-active: #237804;\n    --ant-primary-color-outline: rgba(82, 196, 26, 0.2);\n    --ant-primary-color-deprecated-bg: #d9f7be;\n    --ant-primary-color-deprecated-border: #95de64;\n    --ant-primary-1: #f6ffed;\n    --ant-primary-2: #d9f7be;\n    --ant-primary-3: #b7eb8f;\n    --ant-primary-4: #95de64;\n    --ant-primary-5: #73d13d;\n    --ant-primary-6: #52c41a;\n    --ant-primary-7: #389e0d;\n    --ant-primary-8: #237804;\n    --ant-primary-9: #135200;\n    --ant-primary-10: #092b00;\n    --ant-primary-color-deprecated-l-35: rgb(186, 242, 158);\n    --ant-primary-color-deprecated-l-20: rgb(138, 233, 91);\n    --ant-primary-color-deprecated-t-20: rgb(117, 208, 72);\n    --ant-primary-color-deprecated-t-50: rgb(169, 226, 141);\n    --ant-primary-color-deprecated-f-12: rgba(82, 196, 26, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(246, 255, 237, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(241, 255, 227);\n  }\n","geekBlue":"\n  :root {\n    --ant-primary-color: rgb(47, 84, 235);\n    --ant-primary-color-disabled: #d6e4ff;\n    --ant-primary-color-hover: #597ef7;\n    --ant-primary-color-active: #10239e;\n    --ant-primary-color-outline: rgba(47, 84, 235, 0.2);\n    --ant-primary-color-deprecated-bg: #d6e4ff;\n    --ant-primary-color-deprecated-border: #85a5ff;\n    --ant-primary-1: #f0f5ff;\n    --ant-primary-2: #d6e4ff;\n    --ant-primary-3: #adc6ff;\n    --ant-primary-4: #85a5ff;\n    --ant-primary-5: #597ef7;\n    --ant-primary-6: #2f54eb;\n    --ant-primary-7: #1d39c4;\n    --ant-primary-8: #10239e;\n    --ant-primary-9: #061178;\n    --ant-primary-10: #030852;\n    --ant-primary-color-deprecated-l-35: rgb(210, 218, 251);\n    --ant-primary-color-deprecated-l-20: rgb(140, 160, 244);\n    --ant-primary-color-deprecated-t-20: rgb(89, 118, 239);\n    --ant-primary-color-deprecated-t-50: rgb(151, 170, 245);\n    --ant-primary-color-deprecated-f-12: rgba(47, 84, 235, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(240, 245, 255, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(230, 238, 255);\n  }\n","goldenPurple":"\n  :root {\n    --ant-primary-color: rgb(114, 46, 209);\n    --ant-primary-color-disabled: #efdbff;\n    --ant-primary-color-hover: #9254de;\n    --ant-primary-color-active: #391085;\n    --ant-primary-color-outline: rgba(114, 46, 209, 0.2);\n    --ant-primary-color-deprecated-bg: #efdbff;\n    --ant-primary-color-deprecated-border: #b37feb;\n    --ant-primary-1: #f9f0ff;\n    --ant-primary-2: #efdbff;\n    --ant-primary-3: #d3adf7;\n    --ant-primary-4: #b37feb;\n    --ant-primary-5: #9254de;\n    --ant-primary-6: #722ed1;\n    --ant-primary-7: #531dab;\n    --ant-primary-8: #391085;\n    --ant-primary-9: #22075e;\n    --ant-primary-10: #120338;\n    --ant-primary-color-deprecated-l-35: rgb(213, 192, 241);\n    --ant-primary-color-deprecated-l-20: rgb(170, 130, 227);\n    --ant-primary-color-deprecated-t-20: rgb(142, 88, 218);\n    --ant-primary-color-deprecated-t-50: rgb(185, 151, 232);\n    --ant-primary-color-deprecated-f-12: rgba(114, 46, 209, 0.12);\n    --ant-primary-color-active-deprecated-f-30: rgba(249, 240, 255, 0.3);\n    --ant-primary-color-active-deprecated-d-02: rgb(245, 230, 255);\n  }\n"};
                const styleColors = {"daybreakBlue":"rgb(24, 144, 255)","dustRed":"rgb(245, 34, 45)","volcano":"rgb(250, 84, 28)","sunsetOrange":"rgb(250, 173, 20)","cyan":"rgb(19, 194, 194)","polarGreen":"rgb(82, 196, 26)","geekBlue":"rgb(24, 144, 255)","goldenPurple":"rgb(114, 46, 209)"};
                style.innerHTML = styles[themeColor];
                document.documentElement.style.setProperty('--theme-color', styleColors[themeColor]);
              </script><script src="https://cdn.bootcdn.net/ajax/libs/three.js/r122/three.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.birds.min.js"></script><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="joy-head-count" content="2"/><link rel="icon" href="data:image/ico;base64,aWNv"/><link rel="preload" href="/_joy/static/css/0e72cdd32507b682ae6f.css" as="style"/><link rel="stylesheet" href="/_joy/static/css/0e72cdd32507b682ae6f.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_joy/static/chunks/main-c52aa145e4e3f5b00c79.js" as="script"/><link rel="preload" href="/_joy/static/chunks/webpack-373fdeea3ec48be3183e.js" as="script"/><link rel="preload" href="/_joy/static/chunks/framework-089ded57a3f0791a1b9d.js" as="script"/><link rel="preload" href="/_joy/static/chunks/commons-ce221d408e33857f830a.js" as="script"/><link rel="preload" href="/_joy/static/chunks/pages/_app-b94e456d88e8b012cf8e.js" as="script"/></head><body><div id="__joy"><section class="ant-layout"><header class="layout_header__1OM0M"><nav id="nav" class="layout_nav__K3mbB"><div id="nav-inner" class="layout_nav__inner__2uMRU"><a id="logo" class="layout_logo__FKYzP" href="/">Symph Joy</a><button id="collapseBtn" type="button" class="ant-btn ant-btn-text ant-btn-lg layout_menu__collapseBtn__FF_4T"><span role="img" aria-label="menu-unfold" class="anticon anticon-menu-unfold"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu-unfold" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"></path></svg></span></button><ul class="ant-menu-overflow ant-menu ant-menu-root ant-menu-horizontal ant-menu-light layout_menu__2a0TM layout_menu__collapsed__cIvBb" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:0" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><div class="ant-select ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-customize-input ant-select-show-search"><div class="ant-select-selector"><span class="ant-select-selection-search"><span class="ant-input-affix-wrapper ant-select-selection-search-input"><span class="ant-input-prefix"><span role="img" aria-label="search" class="anticon anticon-search"><svg viewBox="64 64 896 896" focusable="false" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></span></span><input type="search" autoComplete="off" placeholder="搜索" class="ant-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span></span><span class="ant-select-selection-placeholder"></span></div></div></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:1" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/joy/start/introduce">Joy</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:2" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/react/start/introduce">React</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:3" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/server/start/introduce">Server</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:4" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/config/introduce">配置</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:5" role="menuitem" tabindex="-1"><span class="ant-menu-title-content">指南</span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:6" role="menuitem" tabindex="-1"><span class="ant-menu-title-content">插件</span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:7" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/v1/readme">v1</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:8" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a target="_blank" href="https://github.com/lnlfps/symph-joy">Github</a></span></li><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:9" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a id="change-theme" class="layout_theme__switch__133kS"><span><span role="img" class="anticon"><svg viewBox="0 0 1024 1024" fill="currentColor" width="1em" height="1em"><path d="M512 832a64 64 0 0 1 64 64v64a64 64 0 1 1-128 0v-64a64 64 0 0 1 64-64z m0-640a64 64 0 0 1-64-64V64a64 64 0 1 1 128 0v64a64 64 0 0 1-64 64z m448 256a64 64 0 1 1 0 128h-64a64 64 0 1 1 0-128h64zM192 512a64 64 0 0 1-64 64H64a64 64 0 1 1 0-128h64a64 64 0 0 1 64 64z m636.768 226.272l45.248 45.248a64 64 0 1 1-90.496 90.496l-45.248-45.248a64 64 0 1 1 90.496-90.496zM195.232 285.728L149.984 240.48a64 64 0 1 1 90.496-90.496l45.248 45.248a64 64 0 1 1-90.496 90.496z m633.536 0a64 64 0 1 1-90.496-90.496l45.248-45.248a64 64 0 1 1 90.496 90.496l-45.248 45.248zM195.232 738.272a64 64 0 1 1 90.496 90.496l-45.248 45.248a64 64 0 1 1-90.496-90.496l45.248-45.248zM512 256a256 256 0 1 0 0 512 256 256 0 0 0 0-512z m0 416a160 160 0 1 1 0.032-320.032A160 160 0 0 1 512 672z" p-id="2605"></path></svg></span><span role="img" class="anticon"><svg viewBox="0 0 1024 1024" fill="currentColor" width="1em" height="1em"><path d="M514.56 938.666667h-40.106667a426.666667 426.666667 0 0 1 0-853.333334 42.666667 42.666667 0 0 1 42.666667 21.76A42.666667 42.666667 0 0 1 512 153.173333a256 256 0 0 0 358.4 358.4 42.666667 42.666667 0 0 1 46.08-2.986666 42.666667 42.666667 0 0 1 21.76 42.666666A426.666667 426.666667 0 0 1 514.56 938.666667zM397.226667 189.44a341.333333 341.333333 0 1 0 437.333333 437.333333A341.333333 341.333333 0 0 1 381.013333 356.266667a341.333333 341.333333 0 0 1 16.213334-166.826667z" p-id="3227"></path></svg></span></span></a></span></li><li class="ant-menu-overflow-item ant-menu-overflow-item-rest ant-menu-submenu ant-menu-submenu-horizontal" style="opacity:0;height:0;overflow-y:hidden;order:9007199254740991;pointer-events:none;position:absolute" aria-hidden="true" role="none"><div role="menuitem" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="false" aria-haspopup="true"><span role="img" aria-label="ellipsis" class="anticon anticon-ellipsis"><svg viewBox="64 64 896 896" focusable="false" data-icon="ellipsis" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"></path></svg></span><i class="ant-menu-submenu-arrow"></i></div></li></ul><div style="display:none" aria-hidden="true"></div></div></nav></header><main class="ant-layout-content"><div class="docs_layoutContent__1N8MU"><div><div class=""><ul class="ant-menu ant-menu-root ant-menu-inline ant-menu-light docs_docMenus__2pe7u" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">介绍</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">@symph/joy</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">快速开始</span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">基础使用</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">目录结构</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">React 开发</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">Server 服务开发</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">React 约定路由</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">Joy 配置</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-selected ant-menu-item-only-child"><span class="ant-menu-title-content">CSS 样式</span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">高级使用</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">自定义 App</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">自定义 Document</span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content">导出 React</span></li></ul></li></ul><div style="display:none" aria-hidden="true"></div></div></div><div class="docs_menuIcon__3YKAQ"><span role="img" aria-label="menu-unfold" class="anticon anticon-menu-unfold"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu-unfold" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"></path></svg></span></div><div class="docs_right__1ZHMG"><div class="docs_center__23l0Z"><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="docs_docContent__jPjeX">
                <h1 id="css-%E6%A0%B7%E5%BC%8F">
                  CSS 样式
                </h1>
                <h2 id="%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F">
                  应用全局样式
                </h2><p>Joy 中约定在 <code>src/global.css</code>（或<code>global.less</code> <code>global.sass</code> ）中定义全局样式，应用启动时会自动加载该样式。</p>
<p>比如我们给应用统一设置全局样式，或者覆盖组件样式，新建文件 <code>src/global.css</code>:</p>
<pre><code class="hljs language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">font-family</span>: BlinkMacSystemFont, PingFang SC, Microsoft YaHei, sans-serif;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span> <span class="hljs-number">20px</span> <span class="hljs-number">60px</span>;
}

<span class="hljs-selector-class">.addButton</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;
}
</code></pre>

                <h2 id="css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5">
                  CSS 模块导入
                </h2><p>Joy 会对导入的 CSS 文件自动识别是否使用 CSS Modules 导入.</p>

                <h3 id="css-modules-%E5%AF%BC%E5%85%A5">
                  CSS Modules 导入
                </h3><p><a href="https://github.com/css-modules/css-modules">CSS Modules</a> 会将 css 文件内的 class 名称生成唯一的标识，从而避免不同 css 模块类相同 class 名称的冲突。 通常使用 CSS Modules 来定义组件样式，而不用担心和组件间以及全局样式的冲突。</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// CSS Modules</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./foo.css&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.btnAdd}</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}
</code></pre>
<p>在 CSS Modules 中，也可以通过<code>:global { }</code>包裹方式，临时插入全局类样式，被包裹中的代码中定义的 CSS 类名，将不会被 CSS Modules 处理，直接输出到页面。
例如我们自定义 header 中的菜单组件样式：</p>
<pre><code class="hljs language-less"><span class="hljs-comment">// main-layout.less</span>
<span class="hljs-selector-class">.appHeader</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">64px</span>;

  :<span class="hljs-selector-tag">global</span> {
    <span class="hljs-selector-class">.ant-menu</span> {
      <span class="hljs-comment">// ant-menu 是 antd &lt;Menu /&gt; 组件中的常量类名。</span>
      <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;
    }
  }
}
</code></pre>

                <h3 id="%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5">
                  全局样式导入
                </h3><p>非 CSS Modules 方式导入，css 文件内定义的类样式为全局样式，将会控制页面中所有满足条件的 DOM 元素。</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// 非 CSS Modules</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./foo.css&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btnAdd&quot;</span>&gt;</span>New<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}

<span class="hljs-comment">// 非 CSS Modules, bar.css内定义的样式为全局样式，将会控制页面中所有满足条件的DOM元素。</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./bar.css&quot;</span>;
</code></pre>

                <h2 id="%E4%BD%BF%E7%94%A8-less">
                  使用 LESS
                </h2><p>Joy 原生支持 Less，使用 <code>.less</code> 后缀名定义 Less 文件。在使用 Less 之前，需要先安装 <a href="https://github.com/less/less.js">less</a>:</p>
<pre><code class="hljs language-bash">npm install less
</code></pre>

                <h3 id="%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE">
                  自定义 LESS 配置
                </h3><p>在 <code>joy.config.js</code> 的 <code>lessOptions</code> 字段中定义 Less 的自定义配置, 具体可配置项参考 <a href="https://webpack.js.org/loaders/less-loader/">less-loader</a> 的配置。</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">lessOptions</span>: {
    <span class="hljs-attr">strictMath</span>: <span class="hljs-literal">true</span>,
  },
};
</code></pre>

                <h2 id="%E4%BD%BF%E7%94%A8-sass">
                  使用 Sass
                </h2><p>Joy 原生支持 Sass，使用 <code>.scss</code> 或 <code>.sass</code> 后缀名定义 Sass 文件，在使用 Sass 之前，需要先安装 <a href="https://github.com/sass/sass">sass</a> :</p>
<pre><code class="hljs language-bash">npm install sass
</code></pre>
<blockquote>
<p>Sass 支持 2 种语法格式定义来样式，<code>.scss</code>文件使用<a href="https://sass-lang.com/documentation/syntax#scss">SCSS 语法</a> ，<code>.sass</code>文件使用 <a href="https://sass-lang.com/documentation/syntax#the-indented-syntax">Indented Syntax (&quot;Sass&quot;)</a> 语法。
如果你不确定使用哪种语法，可首先采用<code>.scss</code>，它是 CSS 的扩展，可使用 CSS 的全部语法，不需要学习新的 Indented Syntax 缩进语法。</p>
</blockquote>

                <h3 id="%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE">
                  自定义 Sass 配置
                </h3><p>在 <code>joy.config.js</code> 的 <code>sassOptions</code> 字段中定义 Sass 的自定义配置, 具体可配置项参考 <a href="https://webpack.js.org/loaders/sass-loader/">sass-loader</a> 的配置。</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">sassOptions</span>: {
    <span class="hljs-attr">additionalData</span>: <span class="hljs-string">&quot;$env: &quot;</span> + process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> + <span class="hljs-string">&quot;;&quot;</span>,
    <span class="hljs-attr">indentWidth</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">includePaths</span>: [<span class="hljs-string">&quot;/absolute/path/a&quot;</span>, <span class="hljs-string">&quot;/absolute/path/b&quot;</span>],
  },
};
</code></pre>

                <h3 id="sass-%E5%8F%98%E9%87%8F">
                  Sass 变量
                </h3><p>Joy 支持 Sass 变量从 CSS Module 文件中导出。比如导出<code>primaryColor</code>变量：</p>
<pre><code class="hljs language-scss"><span class="hljs-comment">/* index-scss-variables.scss */</span>
<span class="hljs-variable">$primary-color</span>: <span class="hljs-number">#ff0000</span>;

:export {
  primaryColor: <span class="hljs-variable">$primary-color</span>;
}
</code></pre>
<pre><code class="hljs language-tsx"><span class="hljs-comment">// index-scss-variables.js</span>
<span class="hljs-keyword">import</span> variables <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../index-scss-variables.scss&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyApp</span>(<span class="hljs-params">{ Component, pageProps }</span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> <span class="hljs-attr">variables.primaryColor</span> }}&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>

                <h2 id="todo">
                  todo
                </h2><ul>
<li>自定义 PostCss <a href="https://nextjs.org/docs/advanced-features/customizing-postcss-config">https://nextjs.org/docs/advanced-features/customizing-postcss-config</a></li>
</ul>
</div></div></div></div><div class="docs_titleTree__2wlEA"><div><div class=""><div class="ant-anchor-wrapper" style="max-height:100vh"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F" title="应用全局样式">应用全局样式</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5" title="CSS 模块导入">CSS 模块导入</a><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#css-modules-%E5%AF%BC%E5%85%A5" title="CSS Modules 导入">CSS Modules 导入</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5" title="全局样式导入">全局样式导入</a></div></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#%E4%BD%BF%E7%94%A8-less" title="使用 LESS">使用 LESS</a><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE" title="自定义 LESS 配置">自定义 LESS 配置</a></div></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#%E4%BD%BF%E7%94%A8-sass" title="使用 Sass">使用 Sass</a><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE" title="自定义 Sass 配置">自定义 Sass 配置</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#sass-%E5%8F%98%E9%87%8F" title="Sass 变量">Sass 变量</a></div></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#todo" title="todo">todo</a></div></div></div></div></div></div></div></div></main></section></div><script id="__JOY_DATA__" type="application/json">{"initState":[{"pathname":"INIT@/joy/basic/style-css","ssgData":[{"type":"__INIT_MODEL","state":{"noop":{},"reactAppInitManager":{},"layoutModel":{"collapsed":true,"isMobile":false},"docsModel":{"loadingCurrentDoc":false,"docMenus":[],"titleTrees":[],"result":[],"openKeys":[],"snippets":{},"defaultOpenKeys":[]}}}]},{"pathname":"/","ssgData":[{"type":"reactAppInitManager/__SET_STATE","state":{"/":{"pathname":"/","index":false,"initStatic":2}}}]},{"pathname":"/joy","ssgData":[{"type":"docsModel/__SET_STATE","state":{"docMenus":[{"title":"介绍","path":"/joy/01-start","file":"docs/joy/01-start","children":[{"title":"@symph/joy","path":"/joy/start/introduce","file":"docs/joy/01-start/01-introduce.md","hasMenu":false,"mdContent":"# @symph/joy\n\n@symph/joy 是 symph 架构体系中的应用层架构，集成了大量最佳实践的方案和研发工具，零配置可用，即使刚接触 React 或 Node 服务研发，也可以轻松快速的创建可靠的 JS/TS 应用。\n\n```mermaid\ngraph BT\n  Config(\"@symph/config\")\n  Core(\"@symph/core\")\n  React(\"@symph/react\")\n  Joy(\"@symph/joy\")\n  Server(\"@symph/server\")\n  Webpack(\"Webpack\")\n  Config --\u003e React\n  Core --\u003e React\n  React --\u003e Joy\n  Config --\u003e Server\n  Core --\u003e Server\n  Server --\u003e Joy\n  Webpack --\u003e Joy\n```\n\n`@symph/core` IoC 核心，提供组件容器、注入器、全局 Hook 管理的能力。\n\n[`@symph/config`](/config/start/introduce) 应用配置管理，提供应用级的配置读取、验证、注入等。\n\n[`@symph/react`](/react/start/introduce) React 的 MVC 框架，可轻松开发大型复杂 React 单页面应用，提供 React MVC 基础组件，统一数据管理，单向数据绑定和路由等基础功能。\n\n[`@symph/server`](/react/start/introduce) 基于依赖注入和装饰器，类似 Spring MVC 的 Web 后端研发框架。\n\n[`@symph/joy`](/joy/start/introduce) 整合 @symph/server 和 @symph/react，server 提供业务服务，react 负责展示和交互，是集成开发调试、编译打包、服务运行等的全栈式工具。\n\n## 特征\n\n- 零配置可用，集成最佳实践配置，快速启动开发，提供研发全流程工具链。\n- 支持多端多类型应用开发：React、Electron、Server、Proxy Server 等。\n- 现代化面向对象和 IoC 设计原则，更能适应企业级迭代开发。\n- 默认支持和推荐使用 TypeScript，提供静态类型检查和高级语法特性。\n- Joy React 应用原生支持：全局状态管理、约定路由、懒加载、热更新、服务端渲染、预渲染、静态部署等。\n- Joy Node 应用原生支持：全局配置管理、MVC 组件、Middleware、Pipe、Guards、Fastify 集成等。\n- 子模块独立维护和使用，即可选择性单独使用 IoC 库，Config 配置管理、React 应用、Node 应用。\n- 插件化开发，便于定制功能和扩展能力。\n\n## 联系我们\n\n有任何疑问请联系我们！\n\nGithub Issue: https://github.com/symph-joy/symph-joy/issues  \n邮件：lnlfps@gmail.com  \nQQ 群：929743297\n","htmlContent":"\n                \u003ch1 id=\"symph%2Fjoy\"\u003e\n                  @symph/joy\n                \u003c/h1\u003e\u003cp\u003e@symph/joy 是 symph 架构体系中的应用层架构，集成了大量最佳实践的方案和研发工具，零配置可用，即使刚接触 React 或 Node 服务研发，也可以轻松快速的创建可靠的 JS/TS 应用。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-mermaid\"\u003egraph BT\n  Config(\u0026quot;@symph/config\u0026quot;)\n  Core(\u0026quot;@symph/core\u0026quot;)\n  React(\u0026quot;@symph/react\u0026quot;)\n  Joy(\u0026quot;@symph/joy\u0026quot;)\n  Server(\u0026quot;@symph/server\u0026quot;)\n  Webpack(\u0026quot;Webpack\u0026quot;)\n  Config --\u0026gt; React\n  Core --\u0026gt; React\n  React --\u0026gt; Joy\n  Config --\u0026gt; Server\n  Core --\u0026gt; Server\n  Server --\u0026gt; Joy\n  Webpack --\u0026gt; Joy\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e@symph/core\u003c/code\u003e IoC 核心，提供组件容器、注入器、全局 Hook 管理的能力。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/config/start/introduce\"\u003e\u003ccode\u003e@symph/config\u003c/code\u003e\u003c/a\u003e 应用配置管理，提供应用级的配置读取、验证、注入等。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/react/start/introduce\"\u003e\u003ccode\u003e@symph/react\u003c/code\u003e\u003c/a\u003e React 的 MVC 框架，可轻松开发大型复杂 React 单页面应用，提供 React MVC 基础组件，统一数据管理，单向数据绑定和路由等基础功能。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/react/start/introduce\"\u003e\u003ccode\u003e@symph/server\u003c/code\u003e\u003c/a\u003e 基于依赖注入和装饰器，类似 Spring MVC 的 Web 后端研发框架。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/joy/start/introduce\"\u003e\u003ccode\u003e@symph/joy\u003c/code\u003e\u003c/a\u003e 整合 @symph/server 和 @symph/react，server 提供业务服务，react 负责展示和交互，是集成开发调试、编译打包、服务运行等的全栈式工具。\u003c/p\u003e\n\n                \u003ch2 id=\"%E7%89%B9%E5%BE%81\"\u003e\n                  特征\n                \u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e零配置可用，集成最佳实践配置，快速启动开发，提供研发全流程工具链。\u003c/li\u003e\n\u003cli\u003e支持多端多类型应用开发：React、Electron、Server、Proxy Server 等。\u003c/li\u003e\n\u003cli\u003e现代化面向对象和 IoC 设计原则，更能适应企业级迭代开发。\u003c/li\u003e\n\u003cli\u003e默认支持和推荐使用 TypeScript，提供静态类型检查和高级语法特性。\u003c/li\u003e\n\u003cli\u003eJoy React 应用原生支持：全局状态管理、约定路由、懒加载、热更新、服务端渲染、预渲染、静态部署等。\u003c/li\u003e\n\u003cli\u003eJoy Node 应用原生支持：全局配置管理、MVC 组件、Middleware、Pipe、Guards、Fastify 集成等。\u003c/li\u003e\n\u003cli\u003e子模块独立维护和使用，即可选择性单独使用 IoC 库，Config 配置管理、React 应用、Node 应用。\u003c/li\u003e\n\u003cli\u003e插件化开发，便于定制功能和扩展能力。\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch2 id=\"%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC\"\u003e\n                  联系我们\n                \u003c/h2\u003e\u003cp\u003e有任何疑问请联系我们！\u003c/p\u003e\n\u003cp\u003eGithub Issue: \u003ca href=\"https://github.com/symph-joy/symph-joy/issues\"\u003ehttps://github.com/symph-joy/symph-joy/issues\u003c/a\u003e\u003cbr\u003e邮件：\u003ca href=\"mailto:\u0026#108;\u0026#x6e;\u0026#x6c;\u0026#x66;\u0026#112;\u0026#x73;\u0026#x40;\u0026#103;\u0026#109;\u0026#x61;\u0026#x69;\u0026#x6c;\u0026#x2e;\u0026#x63;\u0026#x6f;\u0026#109;\"\u003e\u0026#108;\u0026#x6e;\u0026#x6c;\u0026#x66;\u0026#112;\u0026#x73;\u0026#x40;\u0026#103;\u0026#109;\u0026#x61;\u0026#x69;\u0026#x6c;\u0026#x2e;\u0026#x63;\u0026#x6f;\u0026#109;\u003c/a\u003e\u003cbr\u003eQQ 群：929743297\u003c/p\u003e\n","anchor":[{"type":"heading","raw":"## 特征\n\n","depth":2,"text":"特征","tokens":[{"type":"text","raw":"特征","text":"特征"}],"id":"#%E7%89%B9%E5%BE%81"},{"type":"heading","raw":"## 联系我们\n\n","depth":2,"text":"联系我们","tokens":[{"type":"text","raw":"联系我们","text":"联系我们"}],"id":"#%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC"}]},{"title":"快速开始","path":"/joy/start/quick-started","file":"docs/joy/01-start/02-quick-started.md","hasMenu":false,"mdContent":"# 快速开始\n\nJoy 支持 React、Node.js 或者前后端混合应用开发，这里以一个简单的包含前后端的`Hello World`应用为例，介绍如何快速开始开发。\n\n## 环境准备\n\n- node 建议 12 或以上版本，推荐使用 nvm 来管理 node 版本。\n\n- 推荐使用 yarn 管理依赖，国内使用 [阿里 npm 源](https://npmmirror.com/) registry: https://registry.npm.taobao.org\n\n```shell\n# 安装 yarn\n$ npm i yarn -g\n# 手动设置`registry`地址为国内源\n$ yarn config set registry https://registry.npm.taobao.org\n# 查看源\n$ yarn config get registry\n\n# 或者使用 tyarn\n$ npm i yarn tyarn -g\n# 后面文档里的 yarn 换成 tyarn\n$ tyarn -v\n```\n\n## 创建目录\n\n创建应用根目录\n\n```shell\n$ mkdir myapp \u0026\u0026 cd myapp\n```\n\n- 创建 package.json 文件， 申明应用名和依赖：\n\n```json\n{\n  \"name\": \"myapp\",\n  \"version\": \"v1.0.0\",\n  \"scripts\": {\n    \"dev\": \"joy dev\",\n    \"build\": \"joy build\",\n    \"start\": \"joy start\"\n  },\n  \"dependencies\": {\n    \"react\": \"^17.0.1\",\n    \"react-dom\": \"^17.0.1\",\n    \"@symph/joy\": \"^2.0.0\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^17.0.1\",\n    \"@types/react-dom\": \"^17.0.1\"\n  }\n}\n```\n\n## 安装依赖\n\n```shell\n$ yarn install\n```\n\n## 第一个页面\n\n### React 客户端\n\n#### 创建 Model\n\n创建文件 `src/client/model/hello.model.ts`, ReactModel 管理应用状态数据和封装业务方法。\n\n```ts\n// src/client/model/hello.model.ts\nimport { ReactModel, BaseReactModel } from \"@symph/react\";\nimport { Inject } from \"@symph/core\";\nimport { ReactFetchService } from \"@symph/joy\";\n\n@ReactModel()\nexport class HelloModel extends BaseReactModel\u003c{\n  message: string;\n}\u003e {\n  constructor(@Inject(\"joyFetchService\") private joyFetchService: ReactFetchService) {\n    super();\n  }\n\n  getInitState() {\n    return { message: \"Hello World!\" }; // Init model state\n  }\n\n  async fetchMessage() {\n    const resp = await this.joyFetchService.fetchApi(\"/hello\");\n    const message = await resp.text();\n    this.setState({ message }); // Update model state\n  }\n}\n```\n\n#### 创建页面\n\n- 创建第一个页面`src/client/pages/index.tsx`，页面 ReactController 负责展示 Model 中的状态，响应用户交互，触发业务流程。\n\n```tsx\n// src/client/pages/index.tsx\nimport React, { ReactNode } from \"react\";\nimport { BaseReactController, ReactController } from \"@symph/react\";\nimport { Inject } from \"@symph/core\";\nimport { HelloModel } from \"../model/hello.model\";\n\n@ReactController()\nexport default class IndexController extends BaseReactController {\n  @Inject()\n  helloModel: HelloModel;\n\n  renderView(): ReactNode {\n    const { message } = this.helloModel.state;\n    return (\n      \u003cdiv\u003e\n        \u003cdiv id=\"message\"\u003e{message}\u003c/div\u003e\n        \u003cbutton id=\"btnUpdateMessage\" onClick={() =\u003e this.helloModel.fetchMessage()}\u003e\n          Update Message\n        \u003c/button\u003e\n      \u003c/div\u003e\n    );\n  }\n}\n```\n\n### Server 服务端\n\n#### 创建 Api Controller\n\n创建文件 `server/controller/hello.controller.ts`, Server Controller 对外提供 HTTP 接口服务。\n\n```ts\n// server/controller/hello.controller.ts\nimport { Controller, Get } from \"@symph/server\";\n\n@Controller()\nexport class HelloController {\n  @Get(\"/hello\")\n  hello(): string {\n    return \"Hello Joy!\";\n  }\n}\n```\n\n服务启动后，可通过 `http://localhost:3000/api/hello` 访问该接口。\n\n## 启动开发服务器\n\n```shell\n$ yarn dev\n```\n\n当命令行输出`ready - started server on http://localhost:3000`时，开发服务器启动成功，打开浏览器输入地址 `http://localhost:3000`，即可看到我们的第一个页面`Hello Joy!`。\n\n\u003e 热更新：此时可尝试修改页面内容，当保存后，浏览器界面将自动更新为新内容。\n\n## 部署发布\n\n### 构建\n\n```shell\n$ yarn run build\n```\n\n执行 `joy build` 命令将在 `.joy` 文件夹中构建出用于生产环境的应用程序。\n\n### 运行应用\n\n```shell\n$ yarn run start\n```\n\n构建完成后执行 `joy start`命令，将启动一个 Node.js 服务程序，该服务对外提供 HTTP API 接口服务，以及渲染 React 页面。\n\n### 导出静态HTML\n\n将React应用导出为静态HTML，可使其独立运行和部署。\n\n例如当我们开发一个单纯的React应用，业务接口由服务端团队提供，也不需要服务端渲染时，可以考虑将React应用导出，然后部署到Nginx静态资源服务器上。\n\n如果想将 `@symph/joy` 应用程序导出为静态 HTML，请参照 导出文档 中的说明进行操作。\n","htmlContent":"\n                \u003ch1 id=\"%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B\"\u003e\n                  快速开始\n                \u003c/h1\u003e\u003cp\u003eJoy 支持 React、Node.js 或者前后端混合应用开发，这里以一个简单的包含前后端的\u003ccode\u003eHello World\u003c/code\u003e应用为例，介绍如何快速开始开发。\u003c/p\u003e\n\n                \u003ch2 id=\"%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87\"\u003e\n                  环境准备\n                \u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003enode 建议 12 或以上版本，推荐使用 nvm 来管理 node 版本。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e推荐使用 yarn 管理依赖，国内使用 \u003ca href=\"https://npmmirror.com/\"\u003e阿里 npm 源\u003c/a\u003e registry: \u003ca href=\"https://registry.npm.taobao.org\"\u003ehttps://registry.npm.taobao.org\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e安装 yarn\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003enpm i yarn -g\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e手动设置`registry`地址为国内源\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyarn config \u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e registry https://registry.npm.taobao.org\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e查看源\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyarn config get registry\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e\n# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e或者使用 tyarn\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003enpm i yarn tyarn -g\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e后面文档里的 yarn 换成 tyarn\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003etyarn -v\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95\"\u003e\n                  创建目录\n                \u003c/h2\u003e\u003cp\u003e创建应用根目录\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003emkdir\u003c/span\u003e myapp \u0026amp;\u0026amp; \u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e myapp\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e创建 package.json 文件， 申明应用名和依赖：\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;myapp\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;version\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;v1.0.0\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;scripts\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;dev\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;joy dev\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;build\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;joy build\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;start\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;joy start\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;dependencies\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;^17.0.1\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;react-dom\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;^17.0.1\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;@symph/joy\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;^2.0.0\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;devDependencies\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;@types/react\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;^17.0.1\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;@types/react-dom\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;^17.0.1\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96\"\u003e\n                  安装依赖\n                \u003c/h2\u003e\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyarn install\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2\"\u003e\n                  第一个页面\n                \u003c/h2\u003e\n                \u003ch3 id=\"react-%E5%AE%A2%E6%88%B7%E7%AB%AF\"\u003e\n                  React 客户端\n                \u003c/h3\u003e\n                \u003ch4 id=\"%E5%88%9B%E5%BB%BA-model\"\u003e\n                  创建 Model\n                \u003c/h4\u003e\u003cp\u003e创建文件 \u003ccode\u003esrc/client/model/hello.model.ts\u003c/code\u003e, ReactModel 管理应用状态数据和封装业务方法。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/client/model/hello.model.ts\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eReactModel\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBaseReactModel\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eInject\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/core\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eReactFetchService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/joy\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@ReactModel\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHelloModel\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eBaseReactModel\u003c/span\u003e\u0026lt;{\n  \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e;\n}\u0026gt; {\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Inject\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;joyFetchService\u0026quot;\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e joyFetchService: ReactFetchService\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003egetInitState\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e { \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello World!\u0026quot;\u003c/span\u003e }; \u003cspan class=\"hljs-comment\"\u003e// Init model state\u003c/span\u003e\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efetchMessage\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e resp = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ejoyFetchService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efetchApi\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/hello\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e message = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e resp.\u003cspan class=\"hljs-title function_\"\u003etext\u003c/span\u003e();\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetState\u003c/span\u003e({ message }); \u003cspan class=\"hljs-comment\"\u003e// Update model state\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch4 id=\"%E5%88%9B%E5%BB%BA%E9%A1%B5%E9%9D%A2\"\u003e\n                  创建页面\n                \u003c/h4\u003e\u003cul\u003e\n\u003cli\u003e创建第一个页面\u003ccode\u003esrc/client/pages/index.tsx\u003c/code\u003e，页面 ReactController 负责展示 Model 中的状态，响应用户交互，触发业务流程。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/client/pages/index.tsx\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { \u003cspan class=\"hljs-title class_\"\u003eReactNode\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBaseReactController\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReactController\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eInject\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/core\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eHelloModel\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../model/hello.model\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@ReactController\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eIndexController\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eBaseReactController\u003c/span\u003e {\n  \u003cspan class=\"hljs-meta\"\u003e@Inject\u003c/span\u003e()\n  \u003cspan class=\"hljs-attr\"\u003ehelloModel\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eHelloModel\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-title function_\"\u003erenderView\u003c/span\u003e(): \u003cspan class=\"hljs-title class_\"\u003eReactNode\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { message } = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ehelloModel\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n      \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e{message}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;btnUpdateMessage\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e this.helloModel.fetchMessage()}\u0026gt;\n          Update Message\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"server-%E6%9C%8D%E5%8A%A1%E7%AB%AF\"\u003e\n                  Server 服务端\n                \u003c/h3\u003e\n                \u003ch4 id=\"%E5%88%9B%E5%BB%BA-api-controller\"\u003e\n                  创建 Api Controller\n                \u003c/h4\u003e\u003cp\u003e创建文件 \u003ccode\u003eserver/controller/hello.controller.ts\u003c/code\u003e, Server Controller 对外提供 HTTP 接口服务。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-comment\"\u003e// server/controller/hello.controller.ts\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eController\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eGet\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/server\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Controller\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHelloController\u003c/span\u003e {\n  \u003cspan class=\"hljs-meta\"\u003e@Get\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/hello\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e(): \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello Joy!\u0026quot;\u003c/span\u003e;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e服务启动后，可通过 \u003ccode\u003ehttp://localhost:3000/api/hello\u003c/code\u003e 访问该接口。\u003c/p\u003e\n\n                \u003ch2 id=\"%E5%90%AF%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8\"\u003e\n                  启动开发服务器\n                \u003c/h2\u003e\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyarn dev\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e当命令行输出\u003ccode\u003eready - started server on http://localhost:3000\u003c/code\u003e时，开发服务器启动成功，打开浏览器输入地址 \u003ccode\u003ehttp://localhost:3000\u003c/code\u003e，即可看到我们的第一个页面\u003ccode\u003eHello Joy!\u003c/code\u003e。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e热更新：此时可尝试修改页面内容，当保存后，浏览器界面将自动更新为新内容。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n                \u003ch2 id=\"%E9%83%A8%E7%BD%B2%E5%8F%91%E5%B8%83\"\u003e\n                  部署发布\n                \u003c/h2\u003e\n                \u003ch3 id=\"%E6%9E%84%E5%BB%BA\"\u003e\n                  构建\n                \u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyarn run build\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e执行 \u003ccode\u003ejoy build\u003c/code\u003e 命令将在 \u003ccode\u003e.joy\u003c/code\u003e 文件夹中构建出用于生产环境的应用程序。\u003c/p\u003e\n\n                \u003ch3 id=\"%E8%BF%90%E8%A1%8C%E5%BA%94%E7%94%A8\"\u003e\n                  运行应用\n                \u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003eyarn run start\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e构建完成后执行 \u003ccode\u003ejoy start\u003c/code\u003e命令，将启动一个 Node.js 服务程序，该服务对外提供 HTTP API 接口服务，以及渲染 React 页面。\u003c/p\u003e\n\n                \u003ch3 id=\"%E5%AF%BC%E5%87%BA%E9%9D%99%E6%80%81html\"\u003e\n                  导出静态HTML\n                \u003c/h3\u003e\u003cp\u003e将React应用导出为静态HTML，可使其独立运行和部署。\u003c/p\u003e\n\u003cp\u003e例如当我们开发一个单纯的React应用，业务接口由服务端团队提供，也不需要服务端渲染时，可以考虑将React应用导出，然后部署到Nginx静态资源服务器上。\u003c/p\u003e\n\u003cp\u003e如果想将 \u003ccode\u003e@symph/joy\u003c/code\u003e 应用程序导出为静态 HTML，请参照 导出文档 中的说明进行操作。\u003c/p\u003e\n","anchor":[{"type":"heading","raw":"## 环境准备\n\n","depth":2,"text":"环境准备","tokens":[{"type":"text","raw":"环境准备","text":"环境准备"}],"id":"#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"},{"type":"heading","raw":"## 创建目录\n\n","depth":2,"text":"创建目录","tokens":[{"type":"text","raw":"创建目录","text":"创建目录"}],"id":"#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"},{"type":"heading","raw":"## 安装依赖\n\n","depth":2,"text":"安装依赖","tokens":[{"type":"text","raw":"安装依赖","text":"安装依赖"}],"id":"#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"},{"type":"heading","raw":"## 第一个页面\n\n","depth":2,"text":"第一个页面","tokens":[{"type":"text","raw":"第一个页面","text":"第一个页面"}],"id":"#%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2","children":[{"type":"heading","raw":"### React 客户端\n\n","depth":3,"text":"React 客户端","tokens":[{"type":"text","raw":"React 客户端","text":"React 客户端"}],"id":"#react-%E5%AE%A2%E6%88%B7%E7%AB%AF"},{"type":"heading","raw":"### Server 服务端\n\n","depth":3,"text":"Server 服务端","tokens":[{"type":"text","raw":"Server 服务端","text":"Server 服务端"}],"id":"#server-%E6%9C%8D%E5%8A%A1%E7%AB%AF"}]},{"type":"heading","raw":"## 启动开发服务器\n\n","depth":2,"text":"启动开发服务器","tokens":[{"type":"text","raw":"启动开发服务器","text":"启动开发服务器"}],"id":"#%E5%90%AF%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8"},{"type":"heading","raw":"## 部署发布\n\n","depth":2,"text":"部署发布","tokens":[{"type":"text","raw":"部署发布","text":"部署发布"}],"id":"#%E9%83%A8%E7%BD%B2%E5%8F%91%E5%B8%83","children":[{"type":"heading","raw":"### 构建\n\n","depth":3,"text":"构建","tokens":[{"type":"text","raw":"构建","text":"构建"}],"id":"#%E6%9E%84%E5%BB%BA"},{"type":"heading","raw":"### 运行应用\n\n","depth":3,"text":"运行应用","tokens":[{"type":"text","raw":"运行应用","text":"运行应用"}],"id":"#%E8%BF%90%E8%A1%8C%E5%BA%94%E7%94%A8"},{"type":"heading","raw":"### 导出静态HTML\n\n","depth":3,"text":"导出静态HTML","tokens":[{"type":"text","raw":"导出静态HTML","text":"导出静态HTML"}],"id":"#%E5%AF%BC%E5%87%BA%E9%9D%99%E6%80%81html"}]}]}]},{"title":"基础使用","path":"/joy/02-basic","file":"docs/joy/02-basic","children":[{"title":"目录结构","path":"/joy/basic/dir-tree","file":"docs/joy/02-basic/01-dir-tree.md","hasMenu":false,"mdContent":"# 目录结构\n\n## 约定目录结构\n\nJoy 支持 React 和 Node 以及两者的混合应用，下面列举各种应用类型常用的约定目录结构。\n\n### React 应用\n\n```shell\n    myapp\n        src # 源代码目录\n            pages    # React文件约定路由目录\n            models    # ReactModel目录\n            components  # React组件\n            server  # 可选，server端目录\n        config  # 配置目录\n            config.ts  # 配置文件\n        public  # 静态公共目录\n            logo.png  # 静态文件\n        package.json\n```\n\n### Node 应用 或者 前后端混合应用\n\n```shell\nmyapp\n    src # 源代码目录\n        server  # 服务端代码\n            controllers\n            services\n        client  # 可选，客户端代码\n            pages    # 约定React路由目录\n            models    # ReactModel目录\n            components  # React组件\n    config  # 配置目录\n        config.ts  # 配置文件\n    public  # 静态公共目录\n        logo.png  # 静态文件\n    package.json\n```\n\n## 目录说明\n\n### .joy 目录\n\nJoy 在运行时自动生成的目录，是 Joy 必须的，但可以随时清除，Joy 在下次运行时重新生成该目录。\n日常开发时，我们不用去关注和修改里面的文件。\n里面主要包含的文件有：\n\n- 用于代码扫描分析的临时文件，以及分析后的产出物。\n- webpack 构建的缓存、日志物。\n- Joy 应用运行加载的源文件，这些文件是编译打包后的源文件。\n\n### out 目录\n\n运行`joy export` 命令的默认输出目录，存放 React 导出后的静态文件，部署该目录到静态文件服务器即可，例如 Nginx 。\n\n### .env\n\n[dotenv](https://github.com/motdotla/dotenv) 环境变量配置文件。\n例如：\n\n```shell\nport=8888\nhost=localhost\n```\n\n### server 目录\n\n服务端相关代码，如果不需要服务端提供后端服务，可以没有该目录。\n\n### client 目录\n\nReact 客户端应用相关的代码，该目录可选：\n\n- `client`这级目录可以省略，直接在`src`下创建 React 的源代码文件，例如`src/pages/index.tsx`。\n- 如果应用只提供 Api 服务，不需要前端 React 界面，可以没有该目录。\n\n### client/pages 或者 pages 目录\n\nReact 约定文件路由目录，具体使用方法，请查看路由相关章节。\n","htmlContent":"\n                \u003ch1 id=\"%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84\"\u003e\n                  目录结构\n                \u003c/h1\u003e\n                \u003ch2 id=\"%E7%BA%A6%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84\"\u003e\n                  约定目录结构\n                \u003c/h2\u003e\u003cp\u003eJoy 支持 React 和 Node 以及两者的混合应用，下面列举各种应用类型常用的约定目录结构。\u003c/p\u003e\n\n                \u003ch3 id=\"react-%E5%BA%94%E7%94%A8\"\u003e\n                  React 应用\n                \u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e    myapp\n        src # 源代码目录\n            pages    # React文件约定路由目录\n            models    # ReactModel目录\n            components  # React组件\n            server  # 可选，server端目录\n        config  # 配置目录\n            config.ts  # 配置文件\n        public  # 静态公共目录\n            logo.png  # 静态文件\n        package.json\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"node-%E5%BA%94%E7%94%A8-%E6%88%96%E8%80%85-%E5%89%8D%E5%90%8E%E7%AB%AF%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8\"\u003e\n                  Node 应用 或者 前后端混合应用\n                \u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003emyapp\n    src # 源代码目录\n        server  # 服务端代码\n            controllers\n            services\n        client  # 可选，客户端代码\n            pages    # 约定React路由目录\n            models    # ReactModel目录\n            components  # React组件\n    config  # 配置目录\n        config.ts  # 配置文件\n    public  # 静态公共目录\n        logo.png  # 静态文件\n    package.json\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E\"\u003e\n                  目录说明\n                \u003c/h2\u003e\n                \u003ch3 id=\"joy-%E7%9B%AE%E5%BD%95\"\u003e\n                  .joy 目录\n                \u003c/h3\u003e\u003cp\u003eJoy 在运行时自动生成的目录，是 Joy 必须的，但可以随时清除，Joy 在下次运行时重新生成该目录。\n日常开发时，我们不用去关注和修改里面的文件。\n里面主要包含的文件有：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e用于代码扫描分析的临时文件，以及分析后的产出物。\u003c/li\u003e\n\u003cli\u003ewebpack 构建的缓存、日志物。\u003c/li\u003e\n\u003cli\u003eJoy 应用运行加载的源文件，这些文件是编译打包后的源文件。\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch3 id=\"out-%E7%9B%AE%E5%BD%95\"\u003e\n                  out 目录\n                \u003c/h3\u003e\u003cp\u003e运行\u003ccode\u003ejoy export\u003c/code\u003e 命令的默认输出目录，存放 React 导出后的静态文件，部署该目录到静态文件服务器即可，例如 Nginx 。\u003c/p\u003e\n\n                \u003ch3 id=\"env\"\u003e\n                  .env\n                \u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://github.com/motdotla/dotenv\"\u003edotenv\u003c/a\u003e 环境变量配置文件。\n例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003eport=8888\nhost=localhost\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"server-%E7%9B%AE%E5%BD%95\"\u003e\n                  server 目录\n                \u003c/h3\u003e\u003cp\u003e服务端相关代码，如果不需要服务端提供后端服务，可以没有该目录。\u003c/p\u003e\n\n                \u003ch3 id=\"client-%E7%9B%AE%E5%BD%95\"\u003e\n                  client 目录\n                \u003c/h3\u003e\u003cp\u003eReact 客户端应用相关的代码，该目录可选：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eclient\u003c/code\u003e这级目录可以省略，直接在\u003ccode\u003esrc\u003c/code\u003e下创建 React 的源代码文件，例如\u003ccode\u003esrc/pages/index.tsx\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003e如果应用只提供 Api 服务，不需要前端 React 界面，可以没有该目录。\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch3 id=\"clientpages-%E6%88%96%E8%80%85-pages-%E7%9B%AE%E5%BD%95\"\u003e\n                  client/pages 或者 pages 目录\n                \u003c/h3\u003e\u003cp\u003eReact 约定文件路由目录，具体使用方法，请查看路由相关章节。\u003c/p\u003e\n","anchor":[{"type":"heading","raw":"## 约定目录结构\n\n","depth":2,"text":"约定目录结构","tokens":[{"type":"text","raw":"约定目录结构","text":"约定目录结构"}],"id":"#%E7%BA%A6%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84","children":[{"type":"heading","raw":"### React 应用\n\n","depth":3,"text":"React 应用","tokens":[{"type":"text","raw":"React 应用","text":"React 应用"}],"id":"#react-%E5%BA%94%E7%94%A8"},{"type":"heading","raw":"### Node 应用 或者 前后端混合应用\n\n","depth":3,"text":"Node 应用 或者 前后端混合应用","tokens":[{"type":"text","raw":"Node 应用 或者 前后端混合应用","text":"Node 应用 或者 前后端混合应用"}],"id":"#node-%E5%BA%94%E7%94%A8-%E6%88%96%E8%80%85-%E5%89%8D%E5%90%8E%E7%AB%AF%E6%B7%B7%E5%90%88%E5%BA%94%E7%94%A8"}]},{"type":"heading","raw":"## 目录说明\n\n","depth":2,"text":"目录说明","tokens":[{"type":"text","raw":"目录说明","text":"目录说明"}],"id":"#%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E","children":[{"type":"heading","raw":"### .joy 目录\n\n","depth":3,"text":".joy 目录","tokens":[{"type":"text","raw":".joy 目录","text":".joy 目录"}],"id":"#joy-%E7%9B%AE%E5%BD%95"},{"type":"heading","raw":"### out 目录\n\n","depth":3,"text":"out 目录","tokens":[{"type":"text","raw":"out 目录","text":"out 目录"}],"id":"#out-%E7%9B%AE%E5%BD%95"},{"type":"heading","raw":"### .env\n\n","depth":3,"text":".env","tokens":[{"type":"text","raw":".env","text":".env"}],"id":"#env"},{"type":"heading","raw":"### server 目录\n\n","depth":3,"text":"server 目录","tokens":[{"type":"text","raw":"server 目录","text":"server 目录"}],"id":"#server-%E7%9B%AE%E5%BD%95"},{"type":"heading","raw":"### client 目录\n\n","depth":3,"text":"client 目录","tokens":[{"type":"text","raw":"client 目录","text":"client 目录"}],"id":"#client-%E7%9B%AE%E5%BD%95"},{"type":"heading","raw":"### client/pages 或者 pages 目录\n\n","depth":3,"text":"client/pages 或者 pages 目录","tokens":[{"type":"text","raw":"client/pages 或者 pages 目录","text":"client/pages 或者 pages 目录"}],"id":"#clientpages-%E6%88%96%E8%80%85-pages-%E7%9B%AE%E5%BD%95"}]}]},{"title":"React 开发","path":"/joy/basic/react-dev","file":"docs/joy/02-basic/02-react-dev.md","hasMenu":false,"mdContent":"# React 开发\n\n`@symph/joy` 无缝集成了 `@symph/react`，让我们可以零配置开始React开发，在Joy中申明的React组件，将会被自动注册加载。\n\n\u003e 跳转到 \"[@symph/react 文档](/react/start/introduce)\"，查看更详细的React组件文档。\n\n\nJoy 为 `@symph/react` React 开发提供了额外的功能，请点击下方链接，跳转到详细介绍文档\n\n[约定式路由](/joy/basic/joy-react-router#约定式路由)\n\n按需加载\n\n服务端渲染\n\n热更新(Fast Refresh)\n\n静态导出\n\n编译打包\n","htmlContent":"\n                \u003ch1 id=\"react-%E5%BC%80%E5%8F%91\"\u003e\n                  React 开发\n                \u003c/h1\u003e\u003cp\u003e\u003ccode\u003e@symph/joy\u003c/code\u003e 无缝集成了 \u003ccode\u003e@symph/react\u003c/code\u003e，让我们可以零配置开始React开发，在Joy中申明的React组件，将会被自动注册加载。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e跳转到 \u0026quot;\u003ca href=\"/react/start/introduce\"\u003e@symph/react 文档\u003c/a\u003e\u0026quot;，查看更详细的React组件文档。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eJoy 为 \u003ccode\u003e@symph/react\u003c/code\u003e React 开发提供了额外的功能，请点击下方链接，跳转到详细介绍文档\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/joy/basic/joy-react-router#%E7%BA%A6%E5%AE%9A%E5%BC%8F%E8%B7%AF%E7%94%B1\"\u003e约定式路由\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e按需加载\u003c/p\u003e\n\u003cp\u003e服务端渲染\u003c/p\u003e\n\u003cp\u003e热更新(Fast Refresh)\u003c/p\u003e\n\u003cp\u003e静态导出\u003c/p\u003e\n\u003cp\u003e编译打包\u003c/p\u003e\n","anchor":[]},{"title":"Server 服务开发","path":"/joy/basic/server-dev","file":"docs/joy/02-basic/03-server-dev.md","hasMenu":false,"mdContent":"# Server 服务开发\n\n@symph/joy 集成了@symph/react，\n[开始React开发](/react/start/introduce)\n","htmlContent":"\n                \u003ch1 id=\"server-%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91\"\u003e\n                  Server 服务开发\n                \u003c/h1\u003e\u003cp\u003e@symph/joy 集成了@symph/react，\n\u003ca href=\"/react/start/introduce\"\u003e开始React开发\u003c/a\u003e\u003c/p\u003e\n","anchor":[]},{"title":"React 约定路由","path":"/joy/basic/joy-fs-router","file":"docs/joy/02-basic/04-joy-fs-router.md","hasMenu":false,"mdContent":"# React 约定路由\n\n## @symph/react 路由\n\n基于`@symph/react/router-dom`提供的 React 路由模块，`@symph/joy` 解析源代码目录结构，按照路由约定，转化生成 React 路由，交由 React 路由渲染界面。\n\n所以了解 React 路由信息， 请跳转到 [`@symph/react` React 路由](/react/basic/react-router)，查看详细文档。\n\n## 约定式路由\n\n约定式路由也叫文件路由，通过文件名和其目录路径得出路由信息。\n\nJoy 约定存放在`src/client/pages`或者`src/pages`目录中的 ReactController 组件，将会自动注册为路由组件，注意：如果`src/client/pages`存在，就不会解析`src/pages`了。 例如：\n\n```text\nsrc\n└── client\n    └── pages  # 约定路由根目录\n        ├── index.tsx  # 首页\n        └── about.tsx  # 关于页面\n    ```\n\n等效于以下路由配置：\n\n```js\n[\n  {\n    path: \"/\",\n    index: true,\n    componentName: \"index\",\n    componentModule: require(\"src/client/pages/index\"),\n  },\n  {\n    path: \"/about\",\n    componentName: \"about\",\n    componentModule: require(\"src/client/pages/about\"),\n  },\n];\n```\n\n需要注意的是，满足以下任意规则的文件不会被注册为路由：\n\n- 以 . 或 \\_ 开头的文件或目录\n- 以 test.ts、spec.ts、e2e.ts 结尾的测试文件（适用于 .js、.jsx 和 .tsx 文件）\n- components 和 component 目录\n- utils 和 util 目录\n\n### 动态路由\n\n约定 `[]` 包裹的文件或文件夹为动态路由，例如：\n\n- src/client/pages/users/[id].tsx 会成为 /users/:id\n- src/client/pages/users/[id]/settings.tsx 会成为 /users/:id/settings\n\n### 缺省路由\n\n约定目录中的`index.tsx`(适用于.jsx 文件)命名的文件为目录下的缺省路由， 例如：\n\n- src/client/pages/index.tsx 会成为 `{path: \"/\", index: true}`。\n- src/client/pages/users/index.tsx 会成为 `{path: \"/user\", index: true}`。\n- src/client/pages/users/[id]/index.tsx 会成为 `{path: \"/users/:id\", index: true}`。\n\n### 嵌套路由\n\n约定目录下有 `_layout.tsx` 时会生成嵌套路由，目录下的其它路由将作为其子路由，`_layout.tsx` 作为父级路由，需要通过 `Outlet` 渲染子路由组件。\n\n例如以下目录结构：\n\n```text\n└── pages\n    └── users\n        ├── _layout.tsx\n        ├── index.tsx\n        └── list.tsx\n```\n\n会生成路由：\n\n```js\n[\n  {\n    path: \"/users\",\n    componentName: \"_layout\",\n    children: [\n      {\n        path: \"\",\n        index: true,\n        componentName: \"index\",\n      },\n      {\n        path: \"/list\",\n        componentName: \"list\",\n      },\n    ],\n  },\n];\n```\n\n### 全局 Layout\n\n约定 `src/client/pages/_layout.tsx` 为全局路由。\n\n我们可能需要针对不同的页面采用不同的布局，例如登录页面 `/login` 采用简单布局, 我们可以通过`location.pathname`来做区分，例如：\n\n```tsx\n// src/client/pages/_layout.tsx\n\nimport React from \"react\";\nimport { BaseReactController, ReactController } from \"@symph/react\";\nimport { Outlet } from \"@symph/react/router-dom\";\n\n@ReactController()\nexport default class MainLayout extends BaseReactController {\n  renderView(): React.ReactNode {\n    if (this.props.locaiton.pathname === \"/login\") {\n      return (\n        \u003cSimpleLayout\u003e\n          \u003cOutlet /\u003e\n        \u003c/SimpleLayout\u003e\n      );\n    }\n\n    return (\n      \u003c\u003e\n        \u003cHeader /\u003e\n        \u003cOutlet /\u003e\n        \u003cFooter /\u003e\n      \u003c/\u003e\n    );\n  }\n}\n```\n\n### 错误页面\n\n当在服务端或者浏览器运行时，出现未捕获的异常，导致应用无法正常继续运行，将显示错误页面，展示错误代码和错误提示信息。\n\n如果项目中没有自定义错误页面，会默认使用 `import { ErrorComponent } from \"@symph/joy/react\"`组件，我们也可以继承该默认错误组件，自定义错误界面。\n\n约定 `src/client/pages/_error.tsx` 为自定义错误页面，注意：错误组件是简单展示组件，只能使用`props`渲染界面。\n\n```tsx\nimport React from \"react\";\nimport { ErrorComponent } from \"@symph/joy/react\";\n\nexport default class MyError extends ErrorComponent {\n  renderView({ statusCode, title }: { statusCode: string; title: string }) {\n    return (\n      \u003c\u003e\n        \u003ch1\u003eMy Custom Error Page\u003c/h1\u003e\n        \u003cp\u003e\n          {statusCode}|{title}\n        \u003c/p\u003e\n      \u003c/\u003e\n    );\n  }\n}\n```\n\n### 404 页面\n\n`/404` 路由为特殊路由，渲染时如果未在注册的所有路由中匹配到页面，Joy 将渲染 404 组件。\n\n如果项目中没有自定义 404 页面，会使用默认的 `import { ErrorComponent } from \"@symph/joy/react\"` 组件。\n\n约定`src/client/pages/404.tsx` 为 `/404` 页面。\n\n```tsx\nimport React from \"react\";\nimport { BaseReactController, ReactController, ReactRoute } from \"@symph/react\";\n\n@ReactRoute({ path: \"/404\" })\n@ReactController()\nexport default class My404Page extends BaseReactController {\n  renderView() {\n    return \u003cdiv id={\"title\"}\u003eCustom 404\u003c/div\u003e;\n  }\n}\n```\n","htmlContent":"\n                \u003ch1 id=\"react-%E7%BA%A6%E5%AE%9A%E8%B7%AF%E7%94%B1\"\u003e\n                  React 约定路由\n                \u003c/h1\u003e\n                \u003ch2 id=\"symph%2Freact-%E8%B7%AF%E7%94%B1\"\u003e\n                  @symph/react 路由\n                \u003c/h2\u003e\u003cp\u003e基于\u003ccode\u003e@symph/react/router-dom\u003c/code\u003e提供的 React 路由模块，\u003ccode\u003e@symph/joy\u003c/code\u003e 解析源代码目录结构，按照路由约定，转化生成 React 路由，交由 React 路由渲染界面。\u003c/p\u003e\n\u003cp\u003e所以了解 React 路由信息， 请跳转到 \u003ca href=\"/react/basic/react-router\"\u003e\u003ccode\u003e@symph/react\u003c/code\u003e React 路由\u003c/a\u003e，查看详细文档。\u003c/p\u003e\n\n                \u003ch2 id=\"%E7%BA%A6%E5%AE%9A%E5%BC%8F%E8%B7%AF%E7%94%B1\"\u003e\n                  约定式路由\n                \u003c/h2\u003e\u003cp\u003e约定式路由也叫文件路由，通过文件名和其目录路径得出路由信息。\u003c/p\u003e\n\u003cp\u003eJoy 约定存放在\u003ccode\u003esrc/client/pages\u003c/code\u003e或者\u003ccode\u003esrc/pages\u003c/code\u003e目录中的 ReactController 组件，将会自动注册为路由组件，注意：如果\u003ccode\u003esrc/client/pages\u003c/code\u003e存在，就不会解析\u003ccode\u003esrc/pages\u003c/code\u003e了。 例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003esrc\n└── client\n    └── pages  # 约定路由根目录\n        ├── index.tsx  # 首页\n        └── about.tsx  # 关于页面\n    ```\n\n等效于以下路由配置：\n\n```js\n[\n  {\n    path: \u0026quot;/\u0026quot;,\n    index: true,\n    componentName: \u0026quot;index\u0026quot;,\n    componentModule: require(\u0026quot;src/client/pages/index\u0026quot;),\n  },\n  {\n    path: \u0026quot;/about\u0026quot;,\n    componentName: \u0026quot;about\u0026quot;,\n    componentModule: require(\u0026quot;src/client/pages/about\u0026quot;),\n  },\n];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e需要注意的是，满足以下任意规则的文件不会被注册为路由：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e以 . 或 _ 开头的文件或目录\u003c/li\u003e\n\u003cli\u003e以 test.ts、spec.ts、e2e.ts 结尾的测试文件（适用于 .js、.jsx 和 .tsx 文件）\u003c/li\u003e\n\u003cli\u003ecomponents 和 component 目录\u003c/li\u003e\n\u003cli\u003eutils 和 util 目录\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch3 id=\"%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1\"\u003e\n                  动态路由\n                \u003c/h3\u003e\u003cp\u003e约定 \u003ccode\u003e[]\u003c/code\u003e 包裹的文件或文件夹为动态路由，例如：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003esrc/client/pages/users/[id].tsx 会成为 /users/:id\u003c/li\u003e\n\u003cli\u003esrc/client/pages/users/[id]/settings.tsx 会成为 /users/:id/settings\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch3 id=\"%E7%BC%BA%E7%9C%81%E8%B7%AF%E7%94%B1\"\u003e\n                  缺省路由\n                \u003c/h3\u003e\u003cp\u003e约定目录中的\u003ccode\u003eindex.tsx\u003c/code\u003e(适用于.jsx 文件)命名的文件为目录下的缺省路由， 例如：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003esrc/client/pages/index.tsx 会成为 \u003ccode\u003e{path: \u0026quot;/\u0026quot;, index: true}\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003esrc/client/pages/users/index.tsx 会成为 \u003ccode\u003e{path: \u0026quot;/user\u0026quot;, index: true}\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003esrc/client/pages/users/[id]/index.tsx 会成为 \u003ccode\u003e{path: \u0026quot;/users/:id\u0026quot;, index: true}\u003c/code\u003e。\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch3 id=\"%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1\"\u003e\n                  嵌套路由\n                \u003c/h3\u003e\u003cp\u003e约定目录下有 \u003ccode\u003e_layout.tsx\u003c/code\u003e 时会生成嵌套路由，目录下的其它路由将作为其子路由，\u003ccode\u003e_layout.tsx\u003c/code\u003e 作为父级路由，需要通过 \u003ccode\u003eOutlet\u003c/code\u003e 渲染子路由组件。\u003c/p\u003e\n\u003cp\u003e例如以下目录结构：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-text\"\u003e└── pages\n    └── users\n        ├── _layout.tsx\n        ├── index.tsx\n        └── list.tsx\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e会生成路由：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e[\n  {\n    \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/users\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ecomponentName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;_layout\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003echildren\u003c/span\u003e: [\n      {\n        \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eindex\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ecomponentName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;index\u0026quot;\u003c/span\u003e,\n      },\n      {\n        \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/list\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ecomponentName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;list\u0026quot;\u003c/span\u003e,\n      },\n    ],\n  },\n];\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E5%85%A8%E5%B1%80-layout\"\u003e\n                  全局 Layout\n                \u003c/h3\u003e\u003cp\u003e约定 \u003ccode\u003esrc/client/pages/_layout.tsx\u003c/code\u003e 为全局路由。\u003c/p\u003e\n\u003cp\u003e我们可能需要针对不同的页面采用不同的布局，例如登录页面 \u003ccode\u003e/login\u003c/code\u003e 采用简单布局, 我们可以通过\u003ccode\u003elocation.pathname\u003c/code\u003e来做区分，例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/client/pages/_layout.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBaseReactController\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReactController\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eOutlet\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/react/router-dom\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@ReactController\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMainLayout\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eBaseReactController\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003erenderView\u003c/span\u003e(): \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eReactNode\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eprops\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocaiton\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003epathname\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\u0026quot;/login\u0026quot;\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eSimpleLayout\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eOutlet\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eSimpleLayout\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n      );\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n      \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eHeader\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eOutlet\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eFooter\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2\"\u003e\n                  错误页面\n                \u003c/h3\u003e\u003cp\u003e当在服务端或者浏览器运行时，出现未捕获的异常，导致应用无法正常继续运行，将显示错误页面，展示错误代码和错误提示信息。\u003c/p\u003e\n\u003cp\u003e如果项目中没有自定义错误页面，会默认使用 \u003ccode\u003eimport { ErrorComponent } from \u0026quot;@symph/joy/react\u0026quot;\u003c/code\u003e组件，我们也可以继承该默认错误组件，自定义错误界面。\u003c/p\u003e\n\u003cp\u003e约定 \u003ccode\u003esrc/client/pages/_error.tsx\u003c/code\u003e 为自定义错误页面，注意：错误组件是简单展示组件，只能使用\u003ccode\u003eprops\u003c/code\u003e渲染界面。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eErrorComponent\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/joy/react\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyError\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eErrorComponent\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003erenderView\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ statusCode, title }: { statusCode: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e; title: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e }\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n      \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003eMy Custom Error Page\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          {statusCode}|{title}\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"404-%E9%A1%B5%E9%9D%A2\"\u003e\n                  404 页面\n                \u003c/h3\u003e\u003cp\u003e\u003ccode\u003e/404\u003c/code\u003e 路由为特殊路由，渲染时如果未在注册的所有路由中匹配到页面，Joy 将渲染 404 组件。\u003c/p\u003e\n\u003cp\u003e如果项目中没有自定义 404 页面，会使用默认的 \u003ccode\u003eimport { ErrorComponent } from \u0026quot;@symph/joy/react\u0026quot;\u003c/code\u003e 组件。\u003c/p\u003e\n\u003cp\u003e约定\u003ccode\u003esrc/client/pages/404.tsx\u003c/code\u003e 为 \u003ccode\u003e/404\u003c/code\u003e 页面。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBaseReactController\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReactController\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReactRoute\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/react\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@ReactRoute\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/404\u0026quot;\u003c/span\u003e })\n\u003cspan class=\"hljs-meta\"\u003e@ReactController\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMy404Page\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eBaseReactController\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003erenderView\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e\u0026quot;\u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e\u0026quot;}\u0026gt;\u003c/span\u003eCustom 404\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n","anchor":[{"type":"heading","raw":"## @symph/react 路由\n\n","depth":2,"text":"@symph/react 路由","tokens":[{"type":"text","raw":"@symph/react 路由","text":"@symph/react 路由"}],"id":"#symph%2Freact-%E8%B7%AF%E7%94%B1"},{"type":"heading","raw":"## 约定式路由\n\n","depth":2,"text":"约定式路由","tokens":[{"type":"text","raw":"约定式路由","text":"约定式路由"}],"id":"#%E7%BA%A6%E5%AE%9A%E5%BC%8F%E8%B7%AF%E7%94%B1","children":[{"type":"heading","raw":"### 动态路由\n\n","depth":3,"text":"动态路由","tokens":[{"type":"text","raw":"动态路由","text":"动态路由"}],"id":"#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"},{"type":"heading","raw":"### 缺省路由\n\n","depth":3,"text":"缺省路由","tokens":[{"type":"text","raw":"缺省路由","text":"缺省路由"}],"id":"#%E7%BC%BA%E7%9C%81%E8%B7%AF%E7%94%B1"},{"type":"heading","raw":"### 嵌套路由\n\n","depth":3,"text":"嵌套路由","tokens":[{"type":"text","raw":"嵌套路由","text":"嵌套路由"}],"id":"#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"},{"type":"heading","raw":"### 全局 Layout\n\n","depth":3,"text":"全局 Layout","tokens":[{"type":"text","raw":"全局 Layout","text":"全局 Layout"}],"id":"#%E5%85%A8%E5%B1%80-layout"},{"type":"heading","raw":"### 错误页面\n\n","depth":3,"text":"错误页面","tokens":[{"type":"text","raw":"错误页面","text":"错误页面"}],"id":"#%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2"},{"type":"heading","raw":"### 404 页面\n\n","depth":3,"text":"404 页面","tokens":[{"type":"text","raw":"404 页面","text":"404 页面"}],"id":"#404-%E9%A1%B5%E9%9D%A2"}]}]},{"title":"Joy 配置","path":"/joy/basic/joy-config","file":"docs/joy/02-basic/joy-config.md","hasMenu":false,"mdContent":"# Joy 配置\n\n## basePath\n\n类型：`string` 默认值：`\"\"`\n\n发布 Joy 应用到子路径下时，使用`basePath`设置子路径名称。 例如我们开发了一个文档应用，现将它发布到`/docs`子路径下，例如`www.mydomian.com/docs`。\n\n```typescript\n// config/config.production.ts\n// 只配置 production 环境\nexport default {\n  basePath: \"/docs\",\n};\n```\n\n\u003e 注意：该配置值在构建编译时设置，会打包到客户端的运行包中，如果修改该值，需要重新编译。\n\n## assetPrefix\n\n类型：string，默认:`\"\"`\n\n在浏览器上运行时，加载应用资源的路径前缀。一般是在生产环境，将打包好的静态资源部署到不同的服务器（CDN，静态文件服务器）上时配置该值，而开发调试环境无需配置。 例如图片默认路径是`${basePath}/static/logo.png`，假如我们将资源部署到 CDN 上，图片的加载路径变为 CDN 的地址`https://cdn.mydomain.com/myapp/static/logo.png` ,此时我们更改`assetPrefix`为 CDN 的地址：\n\n```typescript\n// config/config.production.ts\n\nexport default {\n  assetPrefix: \"https://cdn.mydomain.com/myapp\",\n};\n```\n\n## distDir\n\n类型：`string`，默认: `\".joy\"`\n\n编译阶段输出的临时目录，你也可以设置自定义的目录名称。\n","htmlContent":"\n                \u003ch1 id=\"joy-%E9%85%8D%E7%BD%AE\"\u003e\n                  Joy 配置\n                \u003c/h1\u003e\n                \u003ch2 id=\"basepath\"\u003e\n                  basePath\n                \u003c/h2\u003e\u003cp\u003e类型：\u003ccode\u003estring\u003c/code\u003e 默认值：\u003ccode\u003e\u0026quot;\u0026quot;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e发布 Joy 应用到子路径下时，使用\u003ccode\u003ebasePath\u003c/code\u003e设置子路径名称。 例如我们开发了一个文档应用，现将它发布到\u003ccode\u003e/docs\u003c/code\u003e子路径下，例如\u003ccode\u003ewww.mydomian.com/docs\u003c/code\u003e。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// config/config.production.ts\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// 只配置 production 环境\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003ebasePath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/docs\u0026quot;\u003c/span\u003e,\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e注意：该配置值在构建编译时设置，会打包到客户端的运行包中，如果修改该值，需要重新编译。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n                \u003ch2 id=\"assetprefix\"\u003e\n                  assetPrefix\n                \u003c/h2\u003e\u003cp\u003e类型：string，默认:\u003ccode\u003e\u0026quot;\u0026quot;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e在浏览器上运行时，加载应用资源的路径前缀。一般是在生产环境，将打包好的静态资源部署到不同的服务器（CDN，静态文件服务器）上时配置该值，而开发调试环境无需配置。 例如图片默认路径是\u003ccode\u003e${basePath}/static/logo.png\u003c/code\u003e，假如我们将资源部署到 CDN 上，图片的加载路径变为 CDN 的地址\u003ccode\u003ehttps://cdn.mydomain.com/myapp/static/logo.png\u003c/code\u003e ,此时我们更改\u003ccode\u003eassetPrefix\u003c/code\u003e为 CDN 的地址：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// config/config.production.ts\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003eassetPrefix\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://cdn.mydomain.com/myapp\u0026quot;\u003c/span\u003e,\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"distdir\"\u003e\n                  distDir\n                \u003c/h2\u003e\u003cp\u003e类型：\u003ccode\u003estring\u003c/code\u003e，默认: \u003ccode\u003e\u0026quot;.joy\u0026quot;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e编译阶段输出的临时目录，你也可以设置自定义的目录名称。\u003c/p\u003e\n","anchor":[{"type":"heading","raw":"## basePath\n\n","depth":2,"text":"basePath","tokens":[{"type":"text","raw":"basePath","text":"basePath"}],"id":"#basepath"},{"type":"heading","raw":"## assetPrefix\n\n","depth":2,"text":"assetPrefix","tokens":[{"type":"text","raw":"assetPrefix","text":"assetPrefix"}],"id":"#assetprefix"},{"type":"heading","raw":"## distDir\n\n","depth":2,"text":"distDir","tokens":[{"type":"text","raw":"distDir","text":"distDir"}],"id":"#distdir"}]},{"title":"CSS 样式","path":"/joy/basic/style-css","file":"docs/joy/02-basic/style-css.md","hasMenu":false,"mdContent":"# CSS 样式\n\n## 应用全局样式\n\nJoy 中约定在 `src/global.css`（或`global.less` `global.sass` ）中定义全局样式，应用启动时会自动加载该样式。\n\n比如我们给应用统一设置全局样式，或者覆盖组件样式，新建文件 `src/global.css`:\n\n```css\nbody {\n  font-family: BlinkMacSystemFont, PingFang SC, Microsoft YaHei, sans-serif;\n  font-size: 14px;\n  padding: 20px 20px 60px;\n}\n\n.addButton {\n  width: 60px;\n}\n```\n\n## CSS 模块导入\n\nJoy 会对导入的 CSS 文件自动识别是否使用 CSS Modules 导入.\n\n### CSS Modules 导入\n\n[CSS Modules](https://github.com/css-modules/css-modules) 会将 css 文件内的 class 名称生成唯一的标识，从而避免不同 css 模块类相同 class 名称的冲突。 通常使用 CSS Modules 来定义组件样式，而不用担心和组件间以及全局样式的冲突。\n\n```js\n// CSS Modules\nimport styles from \"./foo.css\";\n\nexport function Button() {\n  return \u003cbutton className={styles.btnAdd}\u003eAdd\u003c/button\u003e;\n}\n```\n\n在 CSS Modules 中，也可以通过`:global { }`包裹方式，临时插入全局类样式，被包裹中的代码中定义的 CSS 类名，将不会被 CSS Modules 处理，直接输出到页面。\n例如我们自定义 header 中的菜单组件样式：\n\n```less\n// main-layout.less\n.appHeader {\n  height: 64px;\n\n  :global {\n    .ant-menu {\n      // ant-menu 是 antd \u003cMenu /\u003e 组件中的常量类名。\n      border: 0;\n    }\n  }\n}\n```\n\n### 全局样式导入\n\n非 CSS Modules 方式导入，css 文件内定义的类样式为全局样式，将会控制页面中所有满足条件的 DOM 元素。\n\n```js\n// 非 CSS Modules\nimport \"./foo.css\";\n\nexport function Button() {\n  return \u003cbutton className=\"btnAdd\"\u003eNew\u003c/button\u003e;\n}\n\n// 非 CSS Modules, bar.css内定义的样式为全局样式，将会控制页面中所有满足条件的DOM元素。\nimport \"./bar.css\";\n```\n\n## 使用 LESS\n\nJoy 原生支持 Less，使用 `.less` 后缀名定义 Less 文件。在使用 Less 之前，需要先安装 [less](https://github.com/less/less.js):\n\n```bash\nnpm install less\n```\n\n### 自定义 LESS 配置\n\n在 `joy.config.js` 的 `lessOptions` 字段中定义 Less 的自定义配置, 具体可配置项参考 [less-loader](https://webpack.js.org/loaders/less-loader/) 的配置。\n\n```js\nconst path = require(\"path\");\n\nmodule.exports = {\n  lessOptions: {\n    strictMath: true,\n  },\n};\n```\n\n## 使用 Sass\n\nJoy 原生支持 Sass，使用 `.scss` 或 `.sass` 后缀名定义 Sass 文件，在使用 Sass 之前，需要先安装 [sass](https://github.com/sass/sass) :\n\n```bash\nnpm install sass\n```\n\n\u003e Sass 支持 2 种语法格式定义来样式，`.scss`文件使用[SCSS 语法](https://sass-lang.com/documentation/syntax#scss) ，`.sass`文件使用 [Indented Syntax (\"Sass\")](https://sass-lang.com/documentation/syntax#the-indented-syntax) 语法。\n\u003e 如果你不确定使用哪种语法，可首先采用`.scss`，它是 CSS 的扩展，可使用 CSS 的全部语法，不需要学习新的 Indented Syntax 缩进语法。\n\n### 自定义 Sass 配置\n\n在 `joy.config.js` 的 `sassOptions` 字段中定义 Sass 的自定义配置, 具体可配置项参考 [sass-loader](https://webpack.js.org/loaders/sass-loader/) 的配置。\n\n```js\nconst path = require(\"path\");\n\nmodule.exports = {\n  sassOptions: {\n    additionalData: \"$env: \" + process.env.NODE_ENV + \";\",\n    indentWidth: 4,\n    includePaths: [\"/absolute/path/a\", \"/absolute/path/b\"],\n  },\n};\n```\n\n### Sass 变量\n\nJoy 支持 Sass 变量从 CSS Module 文件中导出。比如导出`primaryColor`变量：\n\n```scss\n/* index-scss-variables.scss */\n$primary-color: #ff0000;\n\n:export {\n  primaryColor: $primary-color;\n}\n```\n\n```tsx\n// index-scss-variables.js\nimport variables from \"../index-scss-variables.scss\";\n\nexport default function MyApp({ Component, pageProps }) {\n  return \u003cdiv style={{ color: variables.primaryColor }}\u003eHello\u003c/div\u003e;\n}\n```\n\n## todo\n\n- 自定义 PostCss https://nextjs.org/docs/advanced-features/customizing-postcss-config\n","htmlContent":"\n                \u003ch1 id=\"css-%E6%A0%B7%E5%BC%8F\"\u003e\n                  CSS 样式\n                \u003c/h1\u003e\n                \u003ch2 id=\"%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F\"\u003e\n                  应用全局样式\n                \u003c/h2\u003e\u003cp\u003eJoy 中约定在 \u003ccode\u003esrc/global.css\u003c/code\u003e（或\u003ccode\u003eglobal.less\u003c/code\u003e \u003ccode\u003eglobal.sass\u003c/code\u003e ）中定义全局样式，应用启动时会自动加载该样式。\u003c/p\u003e\n\u003cp\u003e比如我们给应用统一设置全局样式，或者覆盖组件样式，新建文件 \u003ccode\u003esrc/global.css\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-tag\"\u003ebody\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003efont-family\u003c/span\u003e: BlinkMacSystemFont, PingFang SC, Microsoft YaHei, sans-serif;\n  \u003cspan class=\"hljs-attribute\"\u003efont-size\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e14px\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003epadding\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e60px\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-selector-class\"\u003e.addButton\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e60px\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5\"\u003e\n                  CSS 模块导入\n                \u003c/h2\u003e\u003cp\u003eJoy 会对导入的 CSS 文件自动识别是否使用 CSS Modules 导入.\u003c/p\u003e\n\n                \u003ch3 id=\"css-modules-%E5%AF%BC%E5%85%A5\"\u003e\n                  CSS Modules 导入\n                \u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://github.com/css-modules/css-modules\"\u003eCSS Modules\u003c/a\u003e 会将 css 文件内的 class 名称生成唯一的标识，从而避免不同 css 模块类相同 class 名称的冲突。 通常使用 CSS Modules 来定义组件样式，而不用担心和组件间以及全局样式的冲突。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// CSS Modules\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e styles \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./foo.css\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eButton\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{styles.btnAdd}\u003c/span\u003e\u0026gt;\u003c/span\u003eAdd\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在 CSS Modules 中，也可以通过\u003ccode\u003e:global { }\u003c/code\u003e包裹方式，临时插入全局类样式，被包裹中的代码中定义的 CSS 类名，将不会被 CSS Modules 处理，直接输出到页面。\n例如我们自定义 header 中的菜单组件样式：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-less\"\u003e\u003cspan class=\"hljs-comment\"\u003e// main-layout.less\u003c/span\u003e\n\u003cspan class=\"hljs-selector-class\"\u003e.appHeader\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e64px\u003c/span\u003e;\n\n  :\u003cspan class=\"hljs-selector-tag\"\u003eglobal\u003c/span\u003e {\n    \u003cspan class=\"hljs-selector-class\"\u003e.ant-menu\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// ant-menu 是 antd \u0026lt;Menu /\u0026gt; 组件中的常量类名。\u003c/span\u003e\n      \u003cspan class=\"hljs-attribute\"\u003eborder\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5\"\u003e\n                  全局样式导入\n                \u003c/h3\u003e\u003cp\u003e非 CSS Modules 方式导入，css 文件内定义的类样式为全局样式，将会控制页面中所有满足条件的 DOM 元素。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 非 CSS Modules\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./foo.css\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eButton\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;btnAdd\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eNew\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// 非 CSS Modules, bar.css内定义的样式为全局样式，将会控制页面中所有满足条件的DOM元素。\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./bar.css\u0026quot;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E4%BD%BF%E7%94%A8-less\"\u003e\n                  使用 LESS\n                \u003c/h2\u003e\u003cp\u003eJoy 原生支持 Less，使用 \u003ccode\u003e.less\u003c/code\u003e 后缀名定义 Less 文件。在使用 Less 之前，需要先安装 \u003ca href=\"https://github.com/less/less.js\"\u003eless\u003c/a\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm install less\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE\"\u003e\n                  自定义 LESS 配置\n                \u003c/h3\u003e\u003cp\u003e在 \u003ccode\u003ejoy.config.js\u003c/code\u003e 的 \u003ccode\u003elessOptions\u003c/code\u003e 字段中定义 Less 的自定义配置, 具体可配置项参考 \u003ca href=\"https://webpack.js.org/loaders/less-loader/\"\u003eless-loader\u003c/a\u003e 的配置。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = {\n  \u003cspan class=\"hljs-attr\"\u003elessOptions\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003estrictMath\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  },\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E4%BD%BF%E7%94%A8-sass\"\u003e\n                  使用 Sass\n                \u003c/h2\u003e\u003cp\u003eJoy 原生支持 Sass，使用 \u003ccode\u003e.scss\u003c/code\u003e 或 \u003ccode\u003e.sass\u003c/code\u003e 后缀名定义 Sass 文件，在使用 Sass 之前，需要先安装 \u003ca href=\"https://github.com/sass/sass\"\u003esass\u003c/a\u003e :\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm install sass\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSass 支持 2 种语法格式定义来样式，\u003ccode\u003e.scss\u003c/code\u003e文件使用\u003ca href=\"https://sass-lang.com/documentation/syntax#scss\"\u003eSCSS 语法\u003c/a\u003e ，\u003ccode\u003e.sass\u003c/code\u003e文件使用 \u003ca href=\"https://sass-lang.com/documentation/syntax#the-indented-syntax\"\u003eIndented Syntax (\u0026quot;Sass\u0026quot;)\u003c/a\u003e 语法。\n如果你不确定使用哪种语法，可首先采用\u003ccode\u003e.scss\u003c/code\u003e，它是 CSS 的扩展，可使用 CSS 的全部语法，不需要学习新的 Indented Syntax 缩进语法。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n                \u003ch3 id=\"%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE\"\u003e\n                  自定义 Sass 配置\n                \u003c/h3\u003e\u003cp\u003e在 \u003ccode\u003ejoy.config.js\u003c/code\u003e 的 \u003ccode\u003esassOptions\u003c/code\u003e 字段中定义 Sass 的自定义配置, 具体可配置项参考 \u003ca href=\"https://webpack.js.org/loaders/sass-loader/\"\u003esass-loader\u003c/a\u003e 的配置。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = {\n  \u003cspan class=\"hljs-attr\"\u003esassOptions\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eadditionalData\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;$env: \u0026quot;\u003c/span\u003e + process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODE_ENV\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\u0026quot;;\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eindentWidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eincludePaths\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\u0026quot;/absolute/path/a\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/absolute/path/b\u0026quot;\u003c/span\u003e],\n  },\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"sass-%E5%8F%98%E9%87%8F\"\u003e\n                  Sass 变量\n                \u003c/h3\u003e\u003cp\u003eJoy 支持 Sass 变量从 CSS Module 文件中导出。比如导出\u003ccode\u003eprimaryColor\u003c/code\u003e变量：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scss\"\u003e\u003cspan class=\"hljs-comment\"\u003e/* index-scss-variables.scss */\u003c/span\u003e\n\u003cspan class=\"hljs-variable\"\u003e$primary-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#ff0000\u003c/span\u003e;\n\n:export {\n  primaryColor: \u003cspan class=\"hljs-variable\"\u003e$primary-color\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// index-scss-variables.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e variables \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../index-scss-variables.scss\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eMyApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ Component, pageProps }\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecolor:\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evariables.primaryColor\u003c/span\u003e }}\u0026gt;\u003c/span\u003eHello\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"todo\"\u003e\n                  todo\n                \u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e自定义 PostCss \u003ca href=\"https://nextjs.org/docs/advanced-features/customizing-postcss-config\"\u003ehttps://nextjs.org/docs/advanced-features/customizing-postcss-config\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","anchor":[{"type":"heading","raw":"## 应用全局样式\n\n","depth":2,"text":"应用全局样式","tokens":[{"type":"text","raw":"应用全局样式","text":"应用全局样式"}],"id":"#%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F"},{"type":"heading","raw":"## CSS 模块导入\n\n","depth":2,"text":"CSS 模块导入","tokens":[{"type":"text","raw":"CSS 模块导入","text":"CSS 模块导入"}],"id":"#css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5","children":[{"type":"heading","raw":"### CSS Modules 导入\n\n","depth":3,"text":"CSS Modules 导入","tokens":[{"type":"text","raw":"CSS Modules 导入","text":"CSS Modules 导入"}],"id":"#css-modules-%E5%AF%BC%E5%85%A5"},{"type":"heading","raw":"### 全局样式导入\n\n","depth":3,"text":"全局样式导入","tokens":[{"type":"text","raw":"全局样式导入","text":"全局样式导入"}],"id":"#%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5"}]},{"type":"heading","raw":"## 使用 LESS\n\n","depth":2,"text":"使用 LESS","tokens":[{"type":"text","raw":"使用 LESS","text":"使用 LESS"}],"id":"#%E4%BD%BF%E7%94%A8-less","children":[{"type":"heading","raw":"### 自定义 LESS 配置\n\n","depth":3,"text":"自定义 LESS 配置","tokens":[{"type":"text","raw":"自定义 LESS 配置","text":"自定义 LESS 配置"}],"id":"#%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE"}]},{"type":"heading","raw":"## 使用 Sass\n\n","depth":2,"text":"使用 Sass","tokens":[{"type":"text","raw":"使用 Sass","text":"使用 Sass"}],"id":"#%E4%BD%BF%E7%94%A8-sass","children":[{"type":"heading","raw":"### 自定义 Sass 配置\n\n","depth":3,"text":"自定义 Sass 配置","tokens":[{"type":"text","raw":"自定义 Sass 配置","text":"自定义 Sass 配置"}],"id":"#%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE"},{"type":"heading","raw":"### Sass 变量\n\n","depth":3,"text":"Sass 变量","tokens":[{"type":"text","raw":"Sass 变量","text":"Sass 变量"}],"id":"#sass-%E5%8F%98%E9%87%8F"}]},{"type":"heading","raw":"## todo\n\n","depth":2,"text":"todo","tokens":[{"type":"text","raw":"todo","text":"todo"}],"id":"#todo"}]}]},{"title":"高级使用","path":"/joy/03-advanced-features","file":"docs/joy/03-advanced-features","children":[{"title":"自定义 App","path":"/joy/advanced-features/custom-app","file":"docs/joy/03-advanced-features/custom-app.md","hasMenu":false,"mdContent":"# 自定义 App\n\nJoy 使用`App`来包装和初始化整个界面，我们可以自定它来控制页面的初始化，例如：\n\n- 添加所有页面共有的布局。\n- 捕获渲染错误，使用`componentDidCatch`。\n- 修改路由或者路由的渲染方式。\n- 添加全局样式。\n\n我们开始覆盖默认的`App`， 创建文件`./src/pages/_app.tsx`，修改其内容：\n\n```tsx\nimport React from \"react\";\nimport { IReactApplication, ReactRouterService, RouteSwitch } from \"@symph/react\";\nimport { ReactAppProps } from \"@symph/joy\";\n\nexport default class App extends React.Component\u003cReactAppProps, any\u003e {\n  protected reactRouterService: ReactRouterService;\n  constructor(props: ReactAppProps, context?: any) {\n    super(props, context);\n    const appContext = props.appContext;\n    this.reactRouterService = appContext.getSync\u003cReactRouterService\u003e(\"reactRouterService\");\n  }\n  render() {\n    const routes = this.reactRouterService.getRoutes() || [];\n    return \u003cRouteSwitch routes={routes} extraProps={{}} /\u003e;\n  }\n}\n```\n\n`App` 的`props`中包含了`IReactApplication`实例，我们可以通过它获取到整个 React 应用的业务组件，例如上面例子中的`reactRouterService`路由组件。\n`render()`中使用的`RouteSwitch`组件来渲染应用中注册的路由，包括文件约定路由。\n\n## 注意事项：\n\n- 如果你的应用正在开发模式下运行中，首次添加`./src/pages/_app.js`文件，需要重新启动开发服务器。\n- `App`在服务端和浏览器上都会被渲染，所以不能在这里使用`Node.js`特有的 API。\n","htmlContent":"\n                \u003ch1 id=\"%E8%87%AA%E5%AE%9A%E4%B9%89-app\"\u003e\n                  自定义 App\n                \u003c/h1\u003e\u003cp\u003eJoy 使用\u003ccode\u003eApp\u003c/code\u003e来包装和初始化整个界面，我们可以自定它来控制页面的初始化，例如：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e添加所有页面共有的布局。\u003c/li\u003e\n\u003cli\u003e捕获渲染错误，使用\u003ccode\u003ecomponentDidCatch\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003e修改路由或者路由的渲染方式。\u003c/li\u003e\n\u003cli\u003e添加全局样式。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e我们开始覆盖默认的\u003ccode\u003eApp\u003c/code\u003e， 创建文件\u003ccode\u003e./src/pages/_app.tsx\u003c/code\u003e，修改其内容：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { IReactApplication, \u003cspan class=\"hljs-title class_\"\u003eReactRouterService\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eRouteSwitch\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eReactAppProps\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/joy\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eReact.Component\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-title class_\"\u003eReactAppProps\u003c/span\u003e, \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eprotected\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ereactRouterService\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReactRouterService\u003c/span\u003e;\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eprops: ReactAppProps, context?: \u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e(props, context);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e appContext = props.\u003cspan class=\"hljs-property\"\u003eappContext\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ereactRouterService\u003c/span\u003e = appContext.\u003cspan class=\"hljs-property\"\u003egetSync\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-title class_\"\u003eReactRouterService\u003c/span\u003e\u0026gt;(\u003cspan class=\"hljs-string\"\u003e\u0026quot;reactRouterService\u0026quot;\u003c/span\u003e);\n  }\n  \u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e routes = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ereactRouterService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetRoutes\u003c/span\u003e() || [];\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eRouteSwitch\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eroutes\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{routes}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eextraProps\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{}}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eApp\u003c/code\u003e 的\u003ccode\u003eprops\u003c/code\u003e中包含了\u003ccode\u003eIReactApplication\u003c/code\u003e实例，我们可以通过它获取到整个 React 应用的业务组件，例如上面例子中的\u003ccode\u003ereactRouterService\u003c/code\u003e路由组件。\n\u003ccode\u003erender()\u003c/code\u003e中使用的\u003ccode\u003eRouteSwitch\u003c/code\u003e组件来渲染应用中注册的路由，包括文件约定路由。\u003c/p\u003e\n\n                \u003ch2 id=\"%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A\"\u003e\n                  注意事项：\n                \u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e如果你的应用正在开发模式下运行中，首次添加\u003ccode\u003e./src/pages/_app.js\u003c/code\u003e文件，需要重新启动开发服务器。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eApp\u003c/code\u003e在服务端和浏览器上都会被渲染，所以不能在这里使用\u003ccode\u003eNode.js\u003c/code\u003e特有的 API。\u003c/li\u003e\n\u003c/ul\u003e\n","anchor":[{"type":"heading","raw":"## 注意事项：\n\n","depth":2,"text":"注意事项：","tokens":[{"type":"text","raw":"注意事项：","text":"注意事项："}],"id":"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"}]},{"title":"自定义 Document","path":"/joy/advanced-features/custom-document","file":"docs/joy/03-advanced-features/custom-document.md","hasMenu":false,"mdContent":"# 自定义 Document\n\n`Document` React 组件用于生成页面的`\u003chtml\u003e`和`\u003cbody\u003e`标签， Joy 会根据应用内的组件和样式，自动生成必须的 js 和 css 标签，保证页面 html 能够正常被加载。\n我们可以通过自定义`Document`在`\u003chtml\u003e`加入自定义的扩展`\u003chead\u003e`、`\u003clink\u003e`或者`\u003csciprt\u003e`。\n\n覆盖默认的`Document`，创建文件`./src/pages/_document.tsx`并修改`Document`如下：\n\n```tsx\nimport React from \"react\";\nimport Document, { Html, Head, Main, JoyScript, DocumentContext } from \"@symph/joy/document\";\n\nexport default class MyDocument extends Document\u003cany\u003e {\n  static async getInitialProps(ctx: DocumentContext) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      \u003cHtml\u003e\n        \u003cHead\u003e\u003c/Head\u003e\n        \u003cbody\u003e\n          \u003cMain /\u003e\n          \u003cJoyScript /\u003e\n        \u003c/body\u003e\n      \u003c/Html\u003e\n    );\n  }\n}\n```\n\n\u003e 上面示例中的`MyDocument`，等效于 Joy 默认的`Document`，未加入自定义的内容，如果不需要`getInitialProps`或者`render`方法，可以删除掉。\n\n`Html`、`Head`、`Main`和`JoyScript`是页面必须的，在自定义的`Document`类中，不要删除它们和更改顺序。\n但它们支持一些自定义的属性，例如：\n\n```tsx\n\u003cHtml lang=\"en\"\u003e\n```\n\n这里的`\u003cHead /\u003e`不同于`@symph/joy/react`中的`Head`组件，这里的`\u003cHead /\u003e`用于定义在所有页面中共有的`\u003chead\u003e`元素，而其它的，例如`\u003ctitle\u003e`标签，建议在页面组件中使用`@symph/joy/react`中的`Head`组件来定义。\n\n`getInitialProps`方法返回`Document`组件的初始 props，参数`ctx: DocumentContext`具有以下属性：\n\n- `pathname`：`string`，当前渲染的页面路径。\n- `query`： `object`， url 中的请求参数被解析后的对象。\n- `req`：[`IncomingMessage`](https://nodejs.org/api/http.html#http_class_http_incomingmessage), 触发当前渲染的请求对象。\n- `res`：[`ServerResponse`](https://nodejs.org/api/http.html#http_class_http_serverresponse), 触发当前渲染的请求的响应对象。\n- `err` ：Error, 在渲染阶段出现的异常。\n- `renderPage`: `functin` 将`App`渲染为 html 字符串，返回值`{html, head}`在服务端渲染时。\n\n## 注意事项\n\n- `Document`只在服务端被渲染，事件处理并不会触发执行，例如`onClick`事件。同理 React 的部分生命周期也不会执行，例如`onComponentDidMount`。\n- 在`\u003cMain/\u003e`之外的 React 组件并不会被浏览器初始化，所以不要在这里添加任何业务逻辑。如果需要给整个应用添加统一的组件，可以在根布局组件中添加，或者`App`中添加。\n","htmlContent":"\n                \u003ch1 id=\"%E8%87%AA%E5%AE%9A%E4%B9%89-document\"\u003e\n                  自定义 Document\n                \u003c/h1\u003e\u003cp\u003e\u003ccode\u003eDocument\u003c/code\u003e React 组件用于生成页面的\u003ccode\u003e\u0026lt;html\u0026gt;\u003c/code\u003e和\u003ccode\u003e\u0026lt;body\u0026gt;\u003c/code\u003e标签， Joy 会根据应用内的组件和样式，自动生成必须的 js 和 css 标签，保证页面 html 能够正常被加载。\n我们可以通过自定义\u003ccode\u003eDocument\u003c/code\u003e在\u003ccode\u003e\u0026lt;html\u0026gt;\u003c/code\u003e加入自定义的扩展\u003ccode\u003e\u0026lt;head\u0026gt;\u003c/code\u003e、\u003ccode\u003e\u0026lt;link\u0026gt;\u003c/code\u003e或者\u003ccode\u003e\u0026lt;sciprt\u0026gt;\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e覆盖默认的\u003ccode\u003eDocument\u003c/code\u003e，创建文件\u003ccode\u003e./src/pages/_document.tsx\u003c/code\u003e并修改\u003ccode\u003eDocument\u003c/code\u003e如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;react\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e, { \u003cspan class=\"hljs-title class_\"\u003eHtml\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eHead\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMain\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eJoyScript\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eDocumentContext\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;@symph/joy/document\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyDocument\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eDocument\u003c/span\u003e\u0026lt;\u003cspan class=\"hljs-built_in\"\u003eany\u003c/span\u003e\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetInitialProps\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ectx: DocumentContext\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e initialProps = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetInitialProps\u003c/span\u003e(ctx);\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e { ...initialProps };\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n      \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eHtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eHead\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eHead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eMain\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eJoyScript\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eHtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e上面示例中的\u003ccode\u003eMyDocument\u003c/code\u003e，等效于 Joy 默认的\u003ccode\u003eDocument\u003c/code\u003e，未加入自定义的内容，如果不需要\u003ccode\u003egetInitialProps\u003c/code\u003e或者\u003ccode\u003erender\u003c/code\u003e方法，可以删除掉。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ccode\u003eHtml\u003c/code\u003e、\u003ccode\u003eHead\u003c/code\u003e、\u003ccode\u003eMain\u003c/code\u003e和\u003ccode\u003eJoyScript\u003c/code\u003e是页面必须的，在自定义的\u003ccode\u003eDocument\u003c/code\u003e类中，不要删除它们和更改顺序。\n但它们支持一些自定义的属性，例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u0026lt;\u003cspan class=\"hljs-title class_\"\u003eHtml\u003c/span\u003e lang=\u003cspan class=\"hljs-string\"\u003e\u0026quot;en\u0026quot;\u003c/span\u003e\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e这里的\u003ccode\u003e\u0026lt;Head /\u0026gt;\u003c/code\u003e不同于\u003ccode\u003e@symph/joy/react\u003c/code\u003e中的\u003ccode\u003eHead\u003c/code\u003e组件，这里的\u003ccode\u003e\u0026lt;Head /\u0026gt;\u003c/code\u003e用于定义在所有页面中共有的\u003ccode\u003e\u0026lt;head\u0026gt;\u003c/code\u003e元素，而其它的，例如\u003ccode\u003e\u0026lt;title\u0026gt;\u003c/code\u003e标签，建议在页面组件中使用\u003ccode\u003e@symph/joy/react\u003c/code\u003e中的\u003ccode\u003eHead\u003c/code\u003e组件来定义。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003egetInitialProps\u003c/code\u003e方法返回\u003ccode\u003eDocument\u003c/code\u003e组件的初始 props，参数\u003ccode\u003ectx: DocumentContext\u003c/code\u003e具有以下属性：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003epathname\u003c/code\u003e：\u003ccode\u003estring\u003c/code\u003e，当前渲染的页面路径。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003equery\u003c/code\u003e： \u003ccode\u003eobject\u003c/code\u003e， url 中的请求参数被解析后的对象。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ereq\u003c/code\u003e：\u003ca href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\"\u003e\u003ccode\u003eIncomingMessage\u003c/code\u003e\u003c/a\u003e, 触发当前渲染的请求对象。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eres\u003c/code\u003e：\u003ca href=\"https://nodejs.org/api/http.html#http_class_http_serverresponse\"\u003e\u003ccode\u003eServerResponse\u003c/code\u003e\u003c/a\u003e, 触发当前渲染的请求的响应对象。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eerr\u003c/code\u003e ：Error, 在渲染阶段出现的异常。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003erenderPage\u003c/code\u003e: \u003ccode\u003efunctin\u003c/code\u003e 将\u003ccode\u003eApp\u003c/code\u003e渲染为 html 字符串，返回值\u003ccode\u003e{html, head}\u003c/code\u003e在服务端渲染时。\u003c/li\u003e\n\u003c/ul\u003e\n\n                \u003ch2 id=\"%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9\"\u003e\n                  注意事项\n                \u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eDocument\u003c/code\u003e只在服务端被渲染，事件处理并不会触发执行，例如\u003ccode\u003eonClick\u003c/code\u003e事件。同理 React 的部分生命周期也不会执行，例如\u003ccode\u003eonComponentDidMount\u003c/code\u003e。\u003c/li\u003e\n\u003cli\u003e在\u003ccode\u003e\u0026lt;Main/\u0026gt;\u003c/code\u003e之外的 React 组件并不会被浏览器初始化，所以不要在这里添加任何业务逻辑。如果需要给整个应用添加统一的组件，可以在根布局组件中添加，或者\u003ccode\u003eApp\u003c/code\u003e中添加。\u003c/li\u003e\n\u003c/ul\u003e\n","anchor":[{"type":"heading","raw":"## 注意事项\n\n","depth":2,"text":"注意事项","tokens":[{"type":"text","raw":"注意事项","text":"注意事项"}],"id":"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"}]},{"title":"导出 React","path":"/joy/advanced-features/export","file":"docs/joy/03-advanced-features/export.md","hasMenu":false,"mdContent":"# 导出 React\n\n运行命令：\n```shell\n$ joy build \u0026\u0026 joy export \n```\n\n构建产物默认生成到 ./out 下，目录结构类似于：\n\n```shell\n./out\n  index.html\n  404.html\n  _joy/ # 包含js、css、json等\n```\n\n### 本地验证\n\n使用`http-server`启动本地静态文件服务器\n\n```shell\n# 安装 http-server\n$ npm i -g http-server\n\n# 启动服务器\n$ http-server ./out\n```\n\n在浏览器上打开地址：[http://127.0.0.1:8080](http://127.0.0.1:8080), 正常情况下应该是和`yarn dev`开发运行时是一致的。\n\n### 部署\n\n本地验证完成后，将`out`目录部署到服务器上即可。\n\n","htmlContent":"\n                \u003ch1 id=\"%E5%AF%BC%E5%87%BA-react\"\u003e\n                  导出 React\n                \u003c/h1\u003e\u003cp\u003e运行命令：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003ejoy build \u0026amp;\u0026amp; joy \u003cspan class=\"hljs-built_in\"\u003eexport\u003c/span\u003e\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e构建产物默认生成到 ./out 下，目录结构类似于：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e./out\n  index.html\n  404.html\n  _joy/ # 包含js、css、json等\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81\"\u003e\n                  本地验证\n                \u003c/h3\u003e\u003cp\u003e使用\u003ccode\u003ehttp-server\u003c/code\u003e启动本地静态文件服务器\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-shell\"\u003e\u003cspan class=\"hljs-meta\"\u003e# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e安装 http-server\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003enpm i -g http-server\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e\n# \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e启动服务器\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003ehttp-server ./out\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在浏览器上打开地址：\u003ca href=\"http://127.0.0.1:8080\"\u003ehttp://127.0.0.1:8080\u003c/a\u003e, 正常情况下应该是和\u003ccode\u003eyarn dev\u003c/code\u003e开发运行时是一致的。\u003c/p\u003e\n\n                \u003ch3 id=\"%E9%83%A8%E7%BD%B2\"\u003e\n                  部署\n                \u003c/h3\u003e\u003cp\u003e本地验证完成后，将\u003ccode\u003eout\u003c/code\u003e目录部署到服务器上即可。\u003c/p\u003e\n","anchor":[{"type":"heading","raw":"### 本地验证\n\n","depth":3,"text":"本地验证","tokens":[{"type":"text","raw":"本地验证","text":"本地验证"}],"id":"#%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81"},{"type":"heading","raw":"### 部署\n\n","depth":3,"text":"部署","tokens":[{"type":"text","raw":"部署","text":"部署"}],"id":"#%E9%83%A8%E7%BD%B2"}]}]}],"defaultOpenKeys":["/joy/01-start","/joy/02-basic","/joy/03-advanced-features"]}},{"type":"reactAppInitManager/__SET_STATE","state":{"/joy":{"pathname":"/joy","index":false,"initStatic":2}}}]},{"pathname":"/joy/basic/style-css","ssgData":[{"type":"docsModel/__SET_STATE","state":{"loadingCurrentDoc":true}},{"type":"docsModel/__SET_STATE","state":{"loadingCurrentDoc":true}},{"type":"docsModel/__SET_STATE","state":{"loadCurrentDocErr":null,"currentDoc":{"title":"CSS 样式","path":"/joy/basic/style-css","file":"docs/joy/02-basic/style-css.md","hasMenu":false,"mdContent":"# CSS 样式\n\n## 应用全局样式\n\nJoy 中约定在 `src/global.css`（或`global.less` `global.sass` ）中定义全局样式，应用启动时会自动加载该样式。\n\n比如我们给应用统一设置全局样式，或者覆盖组件样式，新建文件 `src/global.css`:\n\n```css\nbody {\n  font-family: BlinkMacSystemFont, PingFang SC, Microsoft YaHei, sans-serif;\n  font-size: 14px;\n  padding: 20px 20px 60px;\n}\n\n.addButton {\n  width: 60px;\n}\n```\n\n## CSS 模块导入\n\nJoy 会对导入的 CSS 文件自动识别是否使用 CSS Modules 导入.\n\n### CSS Modules 导入\n\n[CSS Modules](https://github.com/css-modules/css-modules) 会将 css 文件内的 class 名称生成唯一的标识，从而避免不同 css 模块类相同 class 名称的冲突。 通常使用 CSS Modules 来定义组件样式，而不用担心和组件间以及全局样式的冲突。\n\n```js\n// CSS Modules\nimport styles from \"./foo.css\";\n\nexport function Button() {\n  return \u003cbutton className={styles.btnAdd}\u003eAdd\u003c/button\u003e;\n}\n```\n\n在 CSS Modules 中，也可以通过`:global { }`包裹方式，临时插入全局类样式，被包裹中的代码中定义的 CSS 类名，将不会被 CSS Modules 处理，直接输出到页面。\n例如我们自定义 header 中的菜单组件样式：\n\n```less\n// main-layout.less\n.appHeader {\n  height: 64px;\n\n  :global {\n    .ant-menu {\n      // ant-menu 是 antd \u003cMenu /\u003e 组件中的常量类名。\n      border: 0;\n    }\n  }\n}\n```\n\n### 全局样式导入\n\n非 CSS Modules 方式导入，css 文件内定义的类样式为全局样式，将会控制页面中所有满足条件的 DOM 元素。\n\n```js\n// 非 CSS Modules\nimport \"./foo.css\";\n\nexport function Button() {\n  return \u003cbutton className=\"btnAdd\"\u003eNew\u003c/button\u003e;\n}\n\n// 非 CSS Modules, bar.css内定义的样式为全局样式，将会控制页面中所有满足条件的DOM元素。\nimport \"./bar.css\";\n```\n\n## 使用 LESS\n\nJoy 原生支持 Less，使用 `.less` 后缀名定义 Less 文件。在使用 Less 之前，需要先安装 [less](https://github.com/less/less.js):\n\n```bash\nnpm install less\n```\n\n### 自定义 LESS 配置\n\n在 `joy.config.js` 的 `lessOptions` 字段中定义 Less 的自定义配置, 具体可配置项参考 [less-loader](https://webpack.js.org/loaders/less-loader/) 的配置。\n\n```js\nconst path = require(\"path\");\n\nmodule.exports = {\n  lessOptions: {\n    strictMath: true,\n  },\n};\n```\n\n## 使用 Sass\n\nJoy 原生支持 Sass，使用 `.scss` 或 `.sass` 后缀名定义 Sass 文件，在使用 Sass 之前，需要先安装 [sass](https://github.com/sass/sass) :\n\n```bash\nnpm install sass\n```\n\n\u003e Sass 支持 2 种语法格式定义来样式，`.scss`文件使用[SCSS 语法](https://sass-lang.com/documentation/syntax#scss) ，`.sass`文件使用 [Indented Syntax (\"Sass\")](https://sass-lang.com/documentation/syntax#the-indented-syntax) 语法。\n\u003e 如果你不确定使用哪种语法，可首先采用`.scss`，它是 CSS 的扩展，可使用 CSS 的全部语法，不需要学习新的 Indented Syntax 缩进语法。\n\n### 自定义 Sass 配置\n\n在 `joy.config.js` 的 `sassOptions` 字段中定义 Sass 的自定义配置, 具体可配置项参考 [sass-loader](https://webpack.js.org/loaders/sass-loader/) 的配置。\n\n```js\nconst path = require(\"path\");\n\nmodule.exports = {\n  sassOptions: {\n    additionalData: \"$env: \" + process.env.NODE_ENV + \";\",\n    indentWidth: 4,\n    includePaths: [\"/absolute/path/a\", \"/absolute/path/b\"],\n  },\n};\n```\n\n### Sass 变量\n\nJoy 支持 Sass 变量从 CSS Module 文件中导出。比如导出`primaryColor`变量：\n\n```scss\n/* index-scss-variables.scss */\n$primary-color: #ff0000;\n\n:export {\n  primaryColor: $primary-color;\n}\n```\n\n```tsx\n// index-scss-variables.js\nimport variables from \"../index-scss-variables.scss\";\n\nexport default function MyApp({ Component, pageProps }) {\n  return \u003cdiv style={{ color: variables.primaryColor }}\u003eHello\u003c/div\u003e;\n}\n```\n\n## todo\n\n- 自定义 PostCss https://nextjs.org/docs/advanced-features/customizing-postcss-config\n","htmlContent":"\n                \u003ch1 id=\"css-%E6%A0%B7%E5%BC%8F\"\u003e\n                  CSS 样式\n                \u003c/h1\u003e\n                \u003ch2 id=\"%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F\"\u003e\n                  应用全局样式\n                \u003c/h2\u003e\u003cp\u003eJoy 中约定在 \u003ccode\u003esrc/global.css\u003c/code\u003e（或\u003ccode\u003eglobal.less\u003c/code\u003e \u003ccode\u003eglobal.sass\u003c/code\u003e ）中定义全局样式，应用启动时会自动加载该样式。\u003c/p\u003e\n\u003cp\u003e比如我们给应用统一设置全局样式，或者覆盖组件样式，新建文件 \u003ccode\u003esrc/global.css\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-tag\"\u003ebody\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003efont-family\u003c/span\u003e: BlinkMacSystemFont, PingFang SC, Microsoft YaHei, sans-serif;\n  \u003cspan class=\"hljs-attribute\"\u003efont-size\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e14px\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003epadding\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e60px\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-selector-class\"\u003e.addButton\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e60px\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5\"\u003e\n                  CSS 模块导入\n                \u003c/h2\u003e\u003cp\u003eJoy 会对导入的 CSS 文件自动识别是否使用 CSS Modules 导入.\u003c/p\u003e\n\n                \u003ch3 id=\"css-modules-%E5%AF%BC%E5%85%A5\"\u003e\n                  CSS Modules 导入\n                \u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://github.com/css-modules/css-modules\"\u003eCSS Modules\u003c/a\u003e 会将 css 文件内的 class 名称生成唯一的标识，从而避免不同 css 模块类相同 class 名称的冲突。 通常使用 CSS Modules 来定义组件样式，而不用担心和组件间以及全局样式的冲突。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// CSS Modules\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e styles \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./foo.css\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eButton\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{styles.btnAdd}\u003c/span\u003e\u0026gt;\u003c/span\u003eAdd\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在 CSS Modules 中，也可以通过\u003ccode\u003e:global { }\u003c/code\u003e包裹方式，临时插入全局类样式，被包裹中的代码中定义的 CSS 类名，将不会被 CSS Modules 处理，直接输出到页面。\n例如我们自定义 header 中的菜单组件样式：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-less\"\u003e\u003cspan class=\"hljs-comment\"\u003e// main-layout.less\u003c/span\u003e\n\u003cspan class=\"hljs-selector-class\"\u003e.appHeader\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e64px\u003c/span\u003e;\n\n  :\u003cspan class=\"hljs-selector-tag\"\u003eglobal\u003c/span\u003e {\n    \u003cspan class=\"hljs-selector-class\"\u003e.ant-menu\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// ant-menu 是 antd \u0026lt;Menu /\u0026gt; 组件中的常量类名。\u003c/span\u003e\n      \u003cspan class=\"hljs-attribute\"\u003eborder\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5\"\u003e\n                  全局样式导入\n                \u003c/h3\u003e\u003cp\u003e非 CSS Modules 方式导入，css 文件内定义的类样式为全局样式，将会控制页面中所有满足条件的 DOM 元素。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 非 CSS Modules\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./foo.css\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eButton\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;btnAdd\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eNew\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// 非 CSS Modules, bar.css内定义的样式为全局样式，将会控制页面中所有满足条件的DOM元素。\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./bar.css\u0026quot;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E4%BD%BF%E7%94%A8-less\"\u003e\n                  使用 LESS\n                \u003c/h2\u003e\u003cp\u003eJoy 原生支持 Less，使用 \u003ccode\u003e.less\u003c/code\u003e 后缀名定义 Less 文件。在使用 Less 之前，需要先安装 \u003ca href=\"https://github.com/less/less.js\"\u003eless\u003c/a\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm install less\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE\"\u003e\n                  自定义 LESS 配置\n                \u003c/h3\u003e\u003cp\u003e在 \u003ccode\u003ejoy.config.js\u003c/code\u003e 的 \u003ccode\u003elessOptions\u003c/code\u003e 字段中定义 Less 的自定义配置, 具体可配置项参考 \u003ca href=\"https://webpack.js.org/loaders/less-loader/\"\u003eless-loader\u003c/a\u003e 的配置。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = {\n  \u003cspan class=\"hljs-attr\"\u003elessOptions\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003estrictMath\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  },\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"%E4%BD%BF%E7%94%A8-sass\"\u003e\n                  使用 Sass\n                \u003c/h2\u003e\u003cp\u003eJoy 原生支持 Sass，使用 \u003ccode\u003e.scss\u003c/code\u003e 或 \u003ccode\u003e.sass\u003c/code\u003e 后缀名定义 Sass 文件，在使用 Sass 之前，需要先安装 \u003ca href=\"https://github.com/sass/sass\"\u003esass\u003c/a\u003e :\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003enpm install sass\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSass 支持 2 种语法格式定义来样式，\u003ccode\u003e.scss\u003c/code\u003e文件使用\u003ca href=\"https://sass-lang.com/documentation/syntax#scss\"\u003eSCSS 语法\u003c/a\u003e ，\u003ccode\u003e.sass\u003c/code\u003e文件使用 \u003ca href=\"https://sass-lang.com/documentation/syntax#the-indented-syntax\"\u003eIndented Syntax (\u0026quot;Sass\u0026quot;)\u003c/a\u003e 语法。\n如果你不确定使用哪种语法，可首先采用\u003ccode\u003e.scss\u003c/code\u003e，它是 CSS 的扩展，可使用 CSS 的全部语法，不需要学习新的 Indented Syntax 缩进语法。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n                \u003ch3 id=\"%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE\"\u003e\n                  自定义 Sass 配置\n                \u003c/h3\u003e\u003cp\u003e在 \u003ccode\u003ejoy.config.js\u003c/code\u003e 的 \u003ccode\u003esassOptions\u003c/code\u003e 字段中定义 Sass 的自定义配置, 具体可配置项参考 \u003ca href=\"https://webpack.js.org/loaders/sass-loader/\"\u003esass-loader\u003c/a\u003e 的配置。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = {\n  \u003cspan class=\"hljs-attr\"\u003esassOptions\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eadditionalData\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;$env: \u0026quot;\u003c/span\u003e + process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODE_ENV\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\u0026quot;;\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eindentWidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eincludePaths\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\u0026quot;/absolute/path/a\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/absolute/path/b\u0026quot;\u003c/span\u003e],\n  },\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch3 id=\"sass-%E5%8F%98%E9%87%8F\"\u003e\n                  Sass 变量\n                \u003c/h3\u003e\u003cp\u003eJoy 支持 Sass 变量从 CSS Module 文件中导出。比如导出\u003ccode\u003eprimaryColor\u003c/code\u003e变量：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scss\"\u003e\u003cspan class=\"hljs-comment\"\u003e/* index-scss-variables.scss */\u003c/span\u003e\n\u003cspan class=\"hljs-variable\"\u003e$primary-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#ff0000\u003c/span\u003e;\n\n:export {\n  primaryColor: \u003cspan class=\"hljs-variable\"\u003e$primary-color\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-tsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e// index-scss-variables.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e variables \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../index-scss-variables.scss\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eMyApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ Component, pageProps }\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecolor:\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evariables.primaryColor\u003c/span\u003e }}\u0026gt;\u003c/span\u003eHello\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n                \u003ch2 id=\"todo\"\u003e\n                  todo\n                \u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e自定义 PostCss \u003ca href=\"https://nextjs.org/docs/advanced-features/customizing-postcss-config\"\u003ehttps://nextjs.org/docs/advanced-features/customizing-postcss-config\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","anchor":[{"type":"heading","raw":"## 应用全局样式\n\n","depth":2,"text":"应用全局样式","tokens":[{"type":"text","raw":"应用全局样式","text":"应用全局样式"}],"id":"#%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F"},{"type":"heading","raw":"## CSS 模块导入\n\n","depth":2,"text":"CSS 模块导入","tokens":[{"type":"text","raw":"CSS 模块导入","text":"CSS 模块导入"}],"id":"#css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5","children":[{"type":"heading","raw":"### CSS Modules 导入\n\n","depth":3,"text":"CSS Modules 导入","tokens":[{"type":"text","raw":"CSS Modules 导入","text":"CSS Modules 导入"}],"id":"#css-modules-%E5%AF%BC%E5%85%A5"},{"type":"heading","raw":"### 全局样式导入\n\n","depth":3,"text":"全局样式导入","tokens":[{"type":"text","raw":"全局样式导入","text":"全局样式导入"}],"id":"#%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5"}]},{"type":"heading","raw":"## 使用 LESS\n\n","depth":2,"text":"使用 LESS","tokens":[{"type":"text","raw":"使用 LESS","text":"使用 LESS"}],"id":"#%E4%BD%BF%E7%94%A8-less","children":[{"type":"heading","raw":"### 自定义 LESS 配置\n\n","depth":3,"text":"自定义 LESS 配置","tokens":[{"type":"text","raw":"自定义 LESS 配置","text":"自定义 LESS 配置"}],"id":"#%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE"}]},{"type":"heading","raw":"## 使用 Sass\n\n","depth":2,"text":"使用 Sass","tokens":[{"type":"text","raw":"使用 Sass","text":"使用 Sass"}],"id":"#%E4%BD%BF%E7%94%A8-sass","children":[{"type":"heading","raw":"### 自定义 Sass 配置\n\n","depth":3,"text":"自定义 Sass 配置","tokens":[{"type":"text","raw":"自定义 Sass 配置","text":"自定义 Sass 配置"}],"id":"#%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE"},{"type":"heading","raw":"### Sass 变量\n\n","depth":3,"text":"Sass 变量","tokens":[{"type":"text","raw":"Sass 变量","text":"Sass 变量"}],"id":"#sass-%E5%8F%98%E9%87%8F"}]},{"type":"heading","raw":"## todo\n\n","depth":2,"text":"todo","tokens":[{"type":"text","raw":"todo","text":"todo"}],"id":"#todo"}]},"titleTrees":[{"type":"heading","raw":"## 应用全局样式\n\n","depth":2,"text":"应用全局样式","tokens":[{"type":"text","raw":"应用全局样式","text":"应用全局样式"}],"id":"#%E5%BA%94%E7%94%A8%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F"},{"type":"heading","raw":"## CSS 模块导入\n\n","depth":2,"text":"CSS 模块导入","tokens":[{"type":"text","raw":"CSS 模块导入","text":"CSS 模块导入"}],"id":"#css-%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5","children":[{"type":"heading","raw":"### CSS Modules 导入\n\n","depth":3,"text":"CSS Modules 导入","tokens":[{"type":"text","raw":"CSS Modules 导入","text":"CSS Modules 导入"}],"id":"#css-modules-%E5%AF%BC%E5%85%A5"},{"type":"heading","raw":"### 全局样式导入\n\n","depth":3,"text":"全局样式导入","tokens":[{"type":"text","raw":"全局样式导入","text":"全局样式导入"}],"id":"#%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5"}]},{"type":"heading","raw":"## 使用 LESS\n\n","depth":2,"text":"使用 LESS","tokens":[{"type":"text","raw":"使用 LESS","text":"使用 LESS"}],"id":"#%E4%BD%BF%E7%94%A8-less","children":[{"type":"heading","raw":"### 自定义 LESS 配置\n\n","depth":3,"text":"自定义 LESS 配置","tokens":[{"type":"text","raw":"自定义 LESS 配置","text":"自定义 LESS 配置"}],"id":"#%E8%87%AA%E5%AE%9A%E4%B9%89-less-%E9%85%8D%E7%BD%AE"}]},{"type":"heading","raw":"## 使用 Sass\n\n","depth":2,"text":"使用 Sass","tokens":[{"type":"text","raw":"使用 Sass","text":"使用 Sass"}],"id":"#%E4%BD%BF%E7%94%A8-sass","children":[{"type":"heading","raw":"### 自定义 Sass 配置\n\n","depth":3,"text":"自定义 Sass 配置","tokens":[{"type":"text","raw":"自定义 Sass 配置","text":"自定义 Sass 配置"}],"id":"#%E8%87%AA%E5%AE%9A%E4%B9%89-sass-%E9%85%8D%E7%BD%AE"},{"type":"heading","raw":"### Sass 变量\n\n","depth":3,"text":"Sass 变量","tokens":[{"type":"text","raw":"Sass 变量","text":"Sass 变量"}],"id":"#sass-%E5%8F%98%E9%87%8F"}]},{"type":"heading","raw":"## todo\n\n","depth":2,"text":"todo","tokens":[{"type":"text","raw":"todo","text":"todo"}],"id":"#todo"}],"loadingCurrentDoc":false}},{"type":"reactAppInitManager/__SET_STATE","state":{"/joy/basic/style-css":{"pathname":"/joy/basic/style-css","index":false,"initStatic":2}}}]}],"props":{},"page":"/joy/basic/style-css","query":{},"buildId":"sRX-Tp4mKQq49vIenDI6R","joyExport":false,"isFallback":false,"ssr":true,"gip":true}</script><script nomodule="" src="/_joy/static/chunks/polyfills-661efe1e66c152d86266.js"></script><script src="/_joy/static/chunks/main-c52aa145e4e3f5b00c79.js" async=""></script><script src="/_joy/static/chunks/webpack-373fdeea3ec48be3183e.js" async=""></script><script src="/_joy/static/chunks/framework-089ded57a3f0791a1b9d.js" async=""></script><script src="/_joy/static/chunks/commons-ce221d408e33857f830a.js" async=""></script><script src="/_joy/static/chunks/pages/_app-b94e456d88e8b012cf8e.js" async=""></script><script src="/_joy/static/sRX-Tp4mKQq49vIenDI6R/_buildManifest.js" async=""></script><script src="/_joy/static/sRX-Tp4mKQq49vIenDI6R/_ssgManifest.js" async=""></script></body></html>